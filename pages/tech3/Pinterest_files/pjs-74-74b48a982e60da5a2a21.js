webpackJsonp([74,100,107,166,269],{"+d4u":function(e,t,n){"use strict";function r(e){return c.a.create("InterestFollowResource",{interest_id:e,interest_list:d.a})}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:l.a.TOPIC_FOLLOW,payload:{id:e,value:t,showTooltip:n}}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){r(e).callCreate({showError:!1}).catch(function(){return n(o(e,!1,t))}),n(o(e,!0,t))}}function i(e){return function(t){r(e).callDelete({showError:!1}).catch(function(){return t(o(e,!0))}),t(o(e,!1))}}t.a=a,t.b=i;var s=n("ZtCB"),c=n.n(s),l=n("2WJm"),d=n("cNcu")},"/WZQ":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),c=n("DUIN"),l=n("W/Cr"),d=n("IaRT"),u=n.n(d),p=n("gEaE"),f=n("+d4u"),h=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.handleFollow=function(){var e=a.props,t=e.isFollowed,n=e.follow,r=e.topicId,o=e.unfollow,i=e.primaryAction,s=e.onFollow,c=e.onUnFollow;t?(c(r),o(r)):(s(r),n(r,i))},i=n,o(a,i)}return a(t,e),t.prototype.render=function e(){var t=this.props.isFollowed;return s.a.createElement(p.c,{color:t?"gray":"red",onClick:this.handleFollow,inline:!this.props.fullWidth,text:t?l.a._("Unfollow","Button text to display for unfollowing an interest"):l.a._("Follow","Button text to display for following an interest"),size:"md"})},t}(i.PureComponent);h.defaultProps={primaryAction:!1,onFollow:function e(){},onUnFollow:function e(){}};var m=function e(t,n){var r=n.isFollowed,o=n.topicId,a=t.topics[o];return{isFollowed:a?a.is_followed:r}},b=function e(t){return{follow:function e(n,r){return t(Object(f.a)(n,r))},unfollow:function e(n){return t(Object(f.b)(n))}}};t.a=Object(c.connect)(m,b)(h)},"2WJm":function(e,t,n){"use strict";var r={TOPIC_FOLLOW:"TOPIC_FOLLOW"};t.a=r},"3hjj":function(e,t,n){"use strict";function r(e){return{type:"UPDATE_PROFILE_BOARD_VIEW",payload:{profileBoardView:e}}}function o(e){return{type:"UPDATE_BOARD_SORT_OPTION",payload:{updatedBoardOrder:e}}}function a(e){return{type:"UPDATE_BOARD_PIN_VIEW",payload:{boardPinView:e}}}function i(e){return{type:"UPDATE_PROFILE_PIN_VIEW",payload:{profilePinView:e}}}t.c=r,t.b=o,t.a=a,t.d=i},"4MUs":function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=3,i=500,s=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return function e(o){var a=o.target;n>0&&(setTimeout(function(){a.src=t+"?"+Date.now()+n},r),n-=1,r*=2)}},c=n("LQXo"),l=n("gEaE"),d="#efefef",u=5,p=function e(t){var n=t.square||!1,r=t.imgHeight||void 0,a=t.pin,i=a.images["474x"];return o.a.createElement(l.b,{shape:"rounded",overflow:"hidden",display:"flex",direction:"column",justifyContent:"center",width:c.b,height:n?c.b:r},o.a.createElement(l.o,{alt:a.description,color:a.dominant_color||"#efefef",naturalWidth:i.width,naturalHeight:i.height,onError:s(i.url,5),src:i.url,fit:r?"cover":"none"}))},f=t.a=p},"4wJQ":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"c",function(){return L}),n.d(t,"b",function(){return D}),n.d(t,"a",function(){return A});var i=n("d6ZO"),s=n.n(i),c=n("DUIN"),l=n("lzxq"),d=n("W/Cr"),u=n("TOju"),p=n("lWtR"),f=n("gTNS"),h=n("IaRT"),m=n.n(h),b=n("nX0T"),g=n("JyNp"),v=n("i0Ug"),y=n("MQ2h"),w=n.n(y),E=n("LQXo"),_=n("Cjb7"),O=n("suNN"),B=n("Kqaz"),C=n("dCTv"),P=n("gEaE"),j="pin",x="module",R=3,S=20,I=function e(t,n){var r=void 0,o=void 0;return t[0].type!==j?(r=t[0],o=t.filter(function(e,t){return 0!==t&&!n.includes(e)})):(r=[],o=t.filter(function(e){return!n.includes(e)})),[].concat(r,n,o)},T=function(e){function t(){var n,a,s;r(this,t);for(var c=arguments.length,d=Array(c),u=0;u<c;u++)d[u]=arguments[u];return n=a=o(this,e.call.apply(e,[this].concat(d))),a.state={derivedPinData:[],originalPinData:[],persistentPromoteButtonPins:[]},a.setMasonryRef=function(e){!a.masonryRef&&e&&(a.masonryRef=e)},a.renderPin=function(e){var t=e.data,n=e.itemIdx,r=a.props,o=r.experiments,s=r.isOwnProfile,c=r.profilePinView,d=r.viewer,u=a.context.userAgent.isMobile;switch(t.type){case x:return"AddPinRep"===t.name?i.createElement(l.a,{isMobile:u}):null;case j:default:var f=(t.access||[]).includes("write"),h=!!(s&&d.isAuth&&d.isPartner)&&(o&&["employees","enabled_grid_stats"].includes(o.activate("creators_closeup_analytics"))),m=s?3106:3107;return i.createElement(p.a,{pin:t,showPersistentPromoteButton:a.state.persistentPromoteButtonPins.some(function(e){return e.id===t.id}),showEditPinButton:f,showLikeItButton:!f,showSendButton:!f,showPinStats:h,showCondensedInfo:s&&"dense"===c,slotIndex:n,viewParameter:m,viewType:4})}},s=n,o(a,s)}return a(t,e),t.getDerivedStateFromProps=function e(t,n){if(!t.pins||!t.pins.data||0===t.pins.data.length||t.pins.data===n.originalPinData)return null;if(t.showPersistentPromoteButton){var r=n.persistentPromoteButtonPins;if(0===n.derivedPinData.length){r=[];for(var o=0;o<t.pins.data.length&&r.length<3;){var a=t.pins.data[o];a.is_quick_promotable&&r.push(a),o+=1}r.length>0&&t.contextLog(7399,{view:4,viewParameter:3106,pin_ids:r.map(function(e){return e.id})})}return{derivedPinData:r.length?I(t.pins.data,r):t.pins.data,persistentPromoteButtonPins:r,originalPinData:t.pins.data}}return{derivedPinData:t.pins.data,originalPinData:t.pins.data}},t.prototype.componentDidMount=function e(){var t=this.props,n=t.id,r=t.pins;this.subscribers=[_.b.subscribe(n,"pinDeleted",r.refreshData)]},t.prototype.componentDidUpdate=function e(t){this.props.profilePinView!==t.profilePinView&&this.masonryRef&&this.masonryRef.reflow()},t.prototype.componentWillUnmount=function e(){this.subscribers.forEach(function(e){return e.unsubscribe()}),delete this.subscribers},t.prototype.render=function e(){var t=this.props,n=t.emptyState,r=t.firstName,o=t.showNativePins,a=t.isOverview,s=t.isOwnProfile,c=t.limit,l=t.nativePins,p=t.onload,h=t.pins,m=t.profilePinView,g=t.username,v=h.fetchMore,y=h.isFetching,w=h.isLoaded,_=this.state.derivedPinData;if(_="dense"===m?_.filter(function(e){return"pin"===e.type}):_,w&&p&&p(_?_.length:0),w&&l&&!s&&(!_||!_.length))return null;var B=void 0;B=c||a?"gridCentered mt2":o&&l||!o?"gridCentered mt4":"gridCentered";var C=l?g+":pins":g+":pins:native",j=this.context.userAgent.isMobile,x=s?3106:3107,R=c?function(){}:v,S=a?i.createElement(u.default,{columnWidth:"dense"===m?2/3*Object(E.h)(j):Object(E.h)(j),comp:this.renderPin,densePadding:!0,gutterWidth:"dense"===m?2/3*20:20,items:_,loadItems:R,cacheKey:C,isFetching:y,viewParameterType:x,serverRender:!1,saveRoutePins:!0}):i.createElement(u.default,{columnWidth:"dense"===m?2/3*Object(E.h)(j):Object(E.h)(j),comp:this.renderPin,getMasonryRef:this.setMasonryRef,gutterWidth:"dense"===m?2/3*20:20,items:_,loadItems:v,cacheKey:C,isFetching:y,viewParameterType:x,virtualize:!0,saveRoutePins:!0}),I=n||i.createElement(f.a,{text:Object(O.b)(d.a._("{{ firstName }} hasn't saved any Pins yet"),{firstName:r})});return i.createElement(b.a,{view:4,viewParameter:x,component:210},i.createElement("div",{className:B},!w||s||_&&_.length?i.createElement(P.b,null,S):I,y&&i.createElement(P.b,{position:"relative",deprecatedPadding:{y:3}},i.createElement(P.F,{accessibilityLabel:d.a._("Loading Pins on profile"),show:o&&l||!o}))))},t}(i.Component);T.defaultProps={contextLog:function e(){},showPersistentPromoteButton:!1},T.contextTypes={locale:m.a.string.isRequired,userAgent:m.a.shape({isMobile:m.a.bool.isRequired}).isRequired};var k=function e(t){var n=t.ui;return{profilePinView:n.views&&n.views.profilePinView}},L=Object(y.compose)(Object(c.connect)(k),v.a,C.a,B.a,Object(g.c)({name:"OverviewUserPinsResource",key:"pins",options:function e(t){return{limit:t.limit,exclude_add_pin_rep:!0,is_own_profile_pins:t.isOwnProfile,username:t.username,field_set_key:t.viewer.isPartner&&t.isOwnProfile?"partner_grid_item":"grid_item"}}}))(T),D=Object(y.compose)(v.a,Object(g.c)({name:"OverviewUserDiscoveredPinsResource",key:"pins",options:function e(t){return{exclude_add_pin_rep:!0,is_own_profile_pins:t.isOwnProfile,username:t.username,field_set_key:t.viewer.isPartner&&t.isOwnProfile?"partner_grid_item":"grid_item"}}}))(T),A=Object(y.compose)(C.a,v.a,Object(g.c)({name:"UserDiscoveredPinsResource",key:"pins",options:function e(t){return{exclude_add_pin_rep:!0,username:t.username,field_set_key:t.viewer.isPartner&&t.isOwnProfile?"partner_grid_item":"grid_item"}}}))(T);t.d=Object(y.compose)(Object(c.connect)(k),v.a,C.a,B.a,Object(g.c)({name:"UserPinsResource",key:"pins",options:function e(t){return{is_own_profile_pins:t.isOwnProfile,username:t.username,field_set_key:t.viewer.isPartner&&t.isOwnProfile?"partner_grid_item":"grid_item",pin_filter:null}}}))(T)},"9FEF":function(e,t,n){"use strict";function r(){if(m){var e;(e=console).log.apply(e,arguments)}}function o(e){return e.split("/").filter(Boolean)}function a(e){return e.startsWith(":")}function i(e,t){r("checking tokens",e,t);var n=a(e);return n?n===a(t)?0:-1:e===t?0:1}function s(e,t){r("comparing",e,t);var n=0,o=0;if(0===e.length||0===t.length)return r("zero length, bailed"),1;if(e.length!==t.length)return 1;for(;1!==n;){if(n=i(e[o],t[o]),r("those tokens are",n),0!==n)return n;if(o+=1,e.length<=o||t.length<=o)return 0}return-1}function c(e){if(!e)return[];var t=[],n=!1,a=0,i=(e||[]).filter(Boolean).map(function(e){return e.path}).filter(function(e){return f()(e,"for flow"),n&&(a+=1),!!h.test(e)||("*"===e?(n=!0,!1):"/_/_/*"!==e&&(t.push('Path "'+e+'" cannot be understood by validateChildRouteOrder'),!1))});if(a)return t.push("There are "+a+' routes defined after "*" that will never be invoked.'),t;var c=i.reduce(function(e,t){return f()(t,"for flow"),e[t]=o(t),e},{});return r("looking at",i),i.forEach(function(e,n){f()(e,"for flow");for(var o=[],a=[],l=0;l<n;l+=1){var d=i[l]||"";r("prev",d);var u=s(c[d]||[],c[e]||[]);r("isValid?",u),-1===u?o.push(d):0===u&&a.push(d)}a.length&&t.push('Path "'+String(e)+'" appears to be a clone of "'+a.join(", ")+'"'),o.length&&t.push('Path "'+String(e)+'" should be defined before "'+o.join(", ")+'"')}),t}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=n("Qsew"),f=n.n(p),h=/^[\/\:\-\_a-zA-Z0-9]*$/,m=!1;n.d(t,"b",function(){return b}),n.d(t,"a",function(){return v});var b=function(){function e(t){var n=t.path,r=t.onEnter,o=t.props,a=void 0===o?{}:o,i=t.onChange,s=t.onLeave,c=t.indexRoute,l=t.childRoutes,d=t.legacy_server_context,p=t.deeplinks,f=t.getComponent,h=t.component,m=t.authBundleLoader,b=t.authResources,v=t.bundle,y=t.chunkFilename;u(this,e),g.call(this),this.path=n,this.enterHooks=r?[r]:[],this.onChange=i,this.leaveHooks=s?[s]:[],this.props=a,this.indexRoute=c,this.childRoutes=l,this.legacy_server_context=d,this.deeplinks=p,this.getComponent=f,this.component=h,this.authBundleLoader=m,this.authResources=b,this.bundle=v,this.chunkFilename=y}return e.prototype.wrapReplace=function e(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return"string"==typeof e?e=encodeURI(e):e.pathname=encodeURI(e.pathname),t.apply(void 0,[e].concat(r))}},e.prototype.addEnterHook=function e(t){this.enterHooks.push(t)},e.prototype.addLeaveHook=function e(t){this.leaveHooks.push(t)},e}(),g=function e(){var t=this;this.onEnter=function(e,n,r){var o=!1,a=t.wrapReplace(n);t.enterHooks.forEach(function(n){3===n.length?(o=!0,n.call(t,e,a,r)):n.call(t,e,a)}),o||r()},this.onLeave=function(e){t.leaveHooks.forEach(function(n){return n.call(t,e)})}},v=function(e){function t(n,r,o){return u(this,t),l(this,e.call(this,{path:n,onEnter:r,legacy_server_context:o}))}return d(t,e),t}(b)},"9pVi":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/partner_profile_empty_state_pin-153056ee.jpg"},"9tyy":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.onClick;return l.a.createElement(x.b,{marginLeft:-6,padding:6},l.a.createElement(m.b,{to:"/categories",onClick:t},l.a.createElement(x.b,null,l.a.createElement(x.t,{height:236,shape:"rounded",wash:!0,width:236},l.a.createElement(x.b,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},l.a.createElement(x.m,{accessibilityLabel:f.a._("add topics","accessible label for Explore topics add icon"),color:"red",icon:"add-circle",size:40}))),l.a.createElement(x.b,{paddingY:3},l.a.createElement(x.J,{bold:!0,color:"gray",size:"xl",smSize:"md",mdSize:"lg",lgSize:"xl"},f.a._("Explore topics","Text to display for link to find topics to follow"))))))}function s(e){var t=e.id,n=void 0===t?"":t,r=e.images,o=void 0===r?{}:r,a=e.name,i=void 0===a?"":a,s=e.background_color,c=void 0===s?"":s,d=e.is_followed,u=void 0!==d&&d,p=e.url_name,f=void 0===p?"":p,m=e.primaryAction,b=void 0!==m&&m;return l.a.createElement(x.b,{key:n,marginLeft:-6,padding:6},l.a.createElement(v.a,{backgroundColor:c,id:n,image:o["400x"],followedByMe:u,name:i,url:f,followingButton:Boolean(b)&&l.a.createElement(h.a,{fullWidth:!0,topicId:n,isFollowed:u,primaryAction:Boolean(b)})}))}n.d(t,"a",function(){return S});var c=n("d6ZO"),l=n.n(c),d=n("RklN"),u=n.n(d),p=n("DUIN"),f=n("W/Cr"),h=n("/WZQ"),m=n("tmfO"),b=n("gTNS"),g=n("sHc9"),v=n("k4he"),y=n("+kCg"),w=n("Kqaz"),E=n("JyNp"),_=n("MQ2h"),O=n.n(_),B=n("suNN"),C=n("tWOI"),P=n("i0Ug"),j=n("4Gri"),x=n("gEaE"),R=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.handleFindTopicsClick=function(){a.props.contextLog(101,{view:4,viewParameter:51,element:1224})},i=n,o(a,i)}return a(t,e),t.prototype.componentDidUpdate=function e(t){var n=this.props,r=n.traceLogger,o=n.viewer,a=n.user,i=n.topicsResource;if(!t.topicsResource.isLoaded&&i.isLoaded){y.b.endTiming({upwtStopReason:1,forceEndtiming:!0});var s=o.isAuth&&o.username===a.username;r.sendEvent(new j.R),r.sendEvent(new j.P({viewportFilled:!1,gridData:i.data,el:u.a.findDOMNode(this)})),this.props.traceLogger.sendEvent(new j.Q),s?r.sendEvent(new j.p({result:1})):r.sendEvent(new j.n({result:1}))}},t.prototype.render=function e(){var t=this.props,n=t.viewer,r=t.topicsResource,o=r.data,a=r.fetchMore,c=r.isAtEnd,d=r.isFetching,u=r.isLoaded,p=t.user,h=p.username,m=p.first_name,v=t.hideExploreButton,y=t.primaryAction,w=n.isAuth&&n.username===h;return l.a.createElement(x.b,null,l.a.createElement(x.B,{isAtEnd:c,isFetching:d,fetchMore:a}),u&&(o.length?l.a.createElement(g.a,{itemWidth:260},!v&&w&&l.a.createElement(i,{onClick:this.handleFindTopicsClick}),o.map(function(e){return Object.assign(e,{primaryAction:y})}).map(s)):l.a.createElement(b.a,{text:Object(B.b)(f.a._("{{ firstName }} hasn't picked any topics to follow yet","Empty state text to display when a user has not followed any topics yet"),{firstName:m})})),l.a.createElement(x.F,{accessibilityLabel:f.a._("Loading additional topics","Label for the loading state spinner in the Topics section of the Following page"),show:d||!u}))},t}(c.PureComponent),S=Object(_.compose)(P.a,w.a,Object(p.connect)(function(){return{hideExploreButton:!0,primaryAction:!0}}),Object(E.c)({name:"NuxInterestsResource",key:"topicsResource",options:{is_renux:!0,isLazyLoading:!0}}),C.a)(R);t.b=Object(_.compose)(P.a,w.a,Object(E.c)({name:"InterestFollowingResource",key:"topicsResource",options:function e(t){return{username:t.user.username}}}),C.a)(R)},"H/nx":function(e,t,n){"use strict";function r(e){var t=e.user;return t.isLoaded?o.createElement(d.a,{user:t.data}):o.createElement(u.F,{accessibilityLabel:"Page loading...",show:!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n("d6ZO"),a=n.n(o),i=n("JyNp"),s=n("Xafg"),c=n("MQ2h"),l=n.n(c),d=n("9tyy"),u=n("gEaE");t.default=Object(c.compose)(Object(i.c)({name:"UserResource",key:"user",options:function e(t){return{username:t.params.username}}}),Object(s.a)({name:"FollowingPage",view_type:4,view_parameter:51}))(r)},HLDn:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r=["alphabetical","last_pinned_to","profile","oldest","newest","custom"],o=function e(t,n,r,o){return{filter:n?"secret":"public",limit:o||"",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",skip_board_create_rep:!0,username:t}},a=void 0},OjsQ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n("d6ZO"),f=n.n(p),h=n("DUIN"),m=n("W/Cr"),b=n("tmfO"),g=n("4MUs"),v=n("+vjZ"),y=n("MQ2h"),w=n.n(y),E=n("yra4"),_=n("Kqaz"),O=n("gEaE"),B=17,C=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.promoteButtonClick=function(){var e=a.props,t=e.component,n=e.contextLog,r=e.dispatch,o=e.grid_index,i=e.pinData;n(101,{view:e.view,viewParameter:e.viewParameter,component:t,element:10148,grid_index:o}),r(Object(E.e)(i.pin))},i=n,o(a,i)}return a(t,e),t.prototype.render=function e(){var t=this.props,n=t.addMargin,r=t.pinData,o=r.pin,a=o.aggregated_pin_data,i=void 0===a?{}:a,s=o.creator_analytics,c=n?17:void 0,l=(i||s)&&(0!==Object.keys(s||{}).length||0!==Object.keys(i||{}).length&&0!==Object.keys(i.creator_analytics||{}).length);return f.a.createElement(O.b,{display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{marginLeft:c,marginRight:c}}},f.a.createElement(b.b,{to:"/pin/"+r.pin.id+"/"},f.a.createElement(g.a,{pin:r.pin,imgHeight:354})),f.a.createElement(O.b,{display:"flex",direction:"row",marginTop:1,minHeight:17},f.a.createElement(O.b,{paddingX:2,flex:"grow",width:"100%"},l&&f.a.createElement(v.a,{stats:i.creator_analytics||s,isVideo:!1}))),f.a.createElement(O.b,{width:"100%",marginTop:4},f.a.createElement(O.c,{color:"red",onClick:this.promoteButtonClick,text:m.a._("Promote","Promote button for pins in the promotable section on own profile overview")})))},t}(p.PureComponent),P=Object(y.compose)(Object(h.connect)(),_.a)(C),j=n("nX0T"),x=n("JyNp"),R=n("Cjb7"),S=3,I=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.id,r=t.pins;this.subscribers=[R.b.subscribe(n,"pinDeleted",r.refreshData)]},t.prototype.componentWillUnmount=function e(){this.subscribers.forEach(function(e){return e.unsubscribe()}),delete this.subscribers},t.prototype.render=function e(){var t=this.props.pins,n=t.isLoaded,r=t.data;if(!n)return f.a.createElement(O.b,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:6},f.a.createElement(O.F,{accessibilityLabel:m.a._("Loading Promotable Pins on profile","Accessibility label for loading spinner for promotable pins section on profile"),show:!0}));if(!r||!r.length)return null;var o=r.slice(0,3);return f.a.createElement(j.a,{view:4,viewParameter:3211,component:13220},f.a.createElement(O.b,{justifyContent:"center",display:"flex"},f.a.createElement(O.b,{direction:"column",display:"flex",dangerouslySetInlineStyle:{__style:{borderWidth:2,borderStyle:"solid",borderColor:"#efefef"}},marginStart:3,marginEnd:3,width:"100%",maxWidth:776,shape:"rounded"},f.a.createElement(O.b,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",marginTop:4,paddingX:5},f.a.createElement(O.b,{marginBottom:7},f.a.createElement(O.J,{bold:!0,size:"xl"},m.a._("Pins you could promote","Heading for promotable pins section on own profile")),f.a.createElement(O.J,{size:"lg"},m.a._("Reach more people by promoting a Pin","Subheading for promotable pins section on own profile")))),f.a.createElement(O.b,{direction:"row",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"auto",marginRight:"auto"}}},o.map(function(e,t){return f.a.createElement(P,{component:13220,key:e.id,grid_index:t,addMargin:1===t,pinData:e,view:4,viewParameter:3211})})),f.a.createElement(O.b,{alignSelf:"center",alignItems:"center",marginTop:7,marginBottom:6,display:"flex"},f.a.createElement(O.b,{color:"lightWash",display:"flex",alignItems:"center",justifyContent:"center",shape:"circle",marginRight:2,height:32,width:32},f.a.createElement(O.m,{color:"darkGray",icon:"lock",inline:!0,size:16,accessibilityLabel:m.a._("Lock icon","Accessibility label for lock icon in promotable pins section on own profile")})),f.a.createElement(O.b,null,f.a.createElement(O.J,{size:"lg"},m.a._("This is only visible to you","Message below promotable pins section on own profile")))))))},t}(p.Component),T=Object(y.compose)(_.a,Object(x.c)({name:"TopPromotablePinsResource",key:"pins",options:function e(t){return{username:t.username}}}))(I),k=n("gTNS"),L=n("IaRT"),D=n.n(L),A=n("suNN"),M=n("s6Db"),W=n("kzic"),U=n("4wJQ"),N=376,z=6,H=15,F=9,X=function e(t){var n=t.label,r=t.link,o=t.sublabel,a=t.onSeeAllButtonClick;return f.a.createElement(O.b,{alignContent:"end",alignItems:"center",display:"flex",justifyContent:"between",marginTop:3,paddingX:3},f.a.createElement(O.b,null,f.a.createElement(O.J,{bold:!0,size:"xl"},n),f.a.createElement(O.b,{marginTop:1},f.a.createElement(O.J,{size:"lg"},o))),f.a.createElement(O.b,{flex:"shrink",marginRight:-4},f.a.createElement(b.b,{to:r,onClick:a},f.a.createElement(O.n,{accessibilityLabel:m.a._("See all","Click to see all items of this type"),bgColor:"transparent",icon:"arrow-forward",iconColor:"gray",size:"lg"}))))},J=function(e){function t(n,r){l(this,t);var o=d(this,e.call(this,n,r));return o.seeAllButtonContextLog=function(e){var t=o.props;(0,t.contextLog)(101,{element:e,view:4,viewParameter:t.isOwnProfile?3106:3107})},o.state={hasActivityPins:!1},o}return u(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.isOwnProfile,o=n.isPartner,a=n.user,i=a.first_name,s=a.id,c=a.domain_url,l=a.last_pin_save_time,d=a.pin_count,u=a.show_discovered_feed,p=a.username,h=this.context.country,b=r?3106:3107,g=null;if(u){var v=f.a.createElement(U.b,{emptyState:f.a.createElement(k.a,{text:Object(A.b)(m.a._("{{ first_name }} hasn't had any pins saved from their domain yet"),{first_name:i})}),firstName:i,id:s,isOverview:!0,isOwnProfile:r,limit:9,username:p}),y=r?m.a._("Pins people saved from your claimed website and linked accounts","Label for pins saved from a domain belonging to the named individual"):m.a._("Pins people saved from {{first_name}}'s website and linked accounts","Label for pins saved from a domain belonging to the named individual"),w=Object(A.b)(y,{first_name:i});g=f.a.createElement(O.b,null,f.a.createElement(O.h,null,f.a.createElement(X,{label:m.a._("Recent activity","Label for domain pins on user overview"),sublabel:w,link:"/source/"+c+"/",onSeeAllButtonClick:function e(){return t.seeAllButtonContextLog(10497)}})),f.a.createElement(O.b,{justifyContent:"center",display:"flex"},f.a.createElement(O.b,{maxWidth:820,width:"100%"},v)))}var E=f.a.createElement(M.PublicProfileBoards,{boardCardWidth:376,boardOrder:"last_pinned_to",firstName:i,isOverview:!0,limit:6,username:p}),_=f.a.createElement(U.c,{firstName:i,id:s,isOverview:!0,isOwnProfile:r,limit:15,username:p}),B={US:1,GB:2,CA:3,IE:4,AU:5,NZ:6,FR:7}[h];return f.a.createElement(j.a,{view:4,viewParameter:b,component:221},f.a.createElement(O.b,null,r&&o&&B&&d>2&&f.a.createElement(T,{firstName:i,id:s,username:p}),f.a.createElement(O.h,null,f.a.createElement(X,{label:m.a._("Latest Pins","label for latest pins on overview page"),link:"/"+p+"/pins/",onSeeAllButtonClick:function e(){return t.seeAllButtonContextLog(10495)}}),l&&f.a.createElement(O.b,{paddingX:3},f.a.createElement(O.J,null,Object(A.b)(m.a._("Last saved {{ timeSince }}","Timestamp of last updated pin"),{timeSince:m.a.getHumanizedTimesince(l)})))),f.a.createElement(O.b,{justifyContent:"center",display:"flex"},f.a.createElement(O.b,{maxWidth:820,width:"100%"},_)),f.a.createElement(O.h,null,f.a.createElement(X,{label:m.a._("Latest boards","label for latest boards on overview page"),link:"/"+p+"/boards/",onSeeAllButtonClick:function e(){return t.seeAllButtonContextLog(10496)}}),E),g))},t}(p.Component);J.contextTypes={country:D.a.string.isRequired};var Z=function e(t){return{isPartner:t.viewer.isAuth&&t.viewer.isPartner}},V=t.a=Object(y.compose)(Object(h.connect)(Z),W.withRouter,_.a)(J)},Pc8e:function(e,t,n){"use strict";function r(e,t){var n=Object(l.findDOMNode)(t);if(!(n&&n instanceof HTMLElement))return null;var r=e.getClientOffset(),o=r.x,a=r.y,i=n.getBoundingClientRect();return{positionRelativeToCenter:{x:o-(i.left+i.right)/2,y:a-(i.top+i.bottom)/2},boundingBox:{width:i.width,height:i.height}}}function o(e){var t=e.children,n=e.connectDragSource,r=e.connectDropTarget,o=e.isDragging,i=e.isDraggingInternal,s=o||i?0:1;return n(r(a.createElement("div",{style:{opacity:s}},t)))}n.d(t,"a",function(){return f});var a=n("d6ZO"),i=n.n(a),s=n("jsUH"),c=n.n(s),l=n("RklN"),d=n.n(l),u=n("MQ2h"),p=n.n(u),f={Pin:"pin",Board:"board",Section:"section"},h={beginDrag:function e(t){var n=t.index;return(0,t.onDragBegin)(n),{index:n}},endDrag:function e(t,n){return(0,t.onDragEnd)(n.didDrop())}},m={hover:function e(t,n,o){var a=t.index;(0,t.onDragHover)(a,r(n,o))}},b=function e(t){return{connectDropTarget:t.dropTarget()}},g=function e(t,n){return{connectDragSource:t.dragSource(),isDraggingInternal:n.isDragging()}};t.b=Object(u.compose)(Object(s.DropTarget)(function(e){return e.type},m,b),Object(s.DragSource)(function(e){return e.type},h,g))(o)},RjD1:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.noStickyHeader?0:u.a;return c.a.createElement(l.a,null,c.a.createElement(d.b,null,c.a.createElement(y,{placement:"top",height:h+t}),c.a.createElement(y,{placement:"bottom",height:h})))}t.a=i;var s=n("d6ZO"),c=n.n(s),l=n("9GQk"),d=n("gEaE"),u=n("UHjM"),p=n("AnjW"),f=16777271,h=120,m=.8,b=1.5*m,g=500,v=500,y=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.state={animation:null,visible:!1},a.setRef=function(e){a.element||(a.element=e,e.addEventListener("dragover",a.handleDragOver),e.addEventListener("dragleave",a.handleDragLeave))},a.handleDragOver=function(){var e=a.props.placement;if(!a.state.animation){var t="top"===e?-1:1,n=Object(p.a)({window:window,duration:1/0,run:function e(n,r,o){var a=r<g?m:b;window.scrollTo(0,window.scrollY+a*t*o)}});n.start(),a.setState({animation:n})}},a.handleDragLeave=function(){var e=a.state.animation;e&&(e.cancel(),a.setState({animation:null}))},a.element=null,a.visibleTimeout=null,i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=this;this.visibleTimeout=window.setTimeout(function(){return t.setState({visible:!0})},500)},t.prototype.componentWillUnmount=function e(){var t=this.element,n=this.state.animation;t&&(t.removeEventListener("dragover",this.handleDragOver),t.removeEventListener("dragleave",this.handleDragLeave)),n&&n.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)},t.prototype.render=function e(){var t=this.props,n=t.height,r=t.placement,o=this.state.visible;return c.a.createElement(d.b,{bottom:"bottom"===r,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:o?"visible":"hidden"}},height:n,left:!0,position:"fixed",right:!0,top:"top"===r},c.a.createElement("div",{ref:this.setRef,style:{width:"100%",height:"100%"}}))},t}(s.Component)},UDqR:function(e,t,n){"use strict";function r(e){var t=e.progress,n=e.height;return s.createElement(h.b,{color:"lightGray",height:n,position:"relative"},s.createElement(h.b,{height:"100%",width:"100%",color:"darkGray",top:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{transformOrigin:"left",transition:"1s transform",transform:"scaleX("+t+")"}}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("d6ZO"),c=n.n(s),l=n("DUIN"),d=n("kopg"),u=n("akwv"),p=n("W/Cr"),f=n("aTwL"),h=n("gEaE"),m=n("az75"),b=n("Rbs1"),g=n("MQ2h"),v=n.n(g);n.d(t,"a",function(){return y});var y=3,w="170x",E=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.state={isActive:!1},r.getCoverPinPos=function(){if(!r.props.reduxBoard)return{height:0,width:0,x:0,y:0};var e=r.props.reduxBoard.cover_pin,t=e.size,n=e.crop;return{width:t&&t[0]||0,height:t&&t[1]||0,x:n&&n[0]||0,y:n&&n[1]||0}},r.handleMouseEnter=function(){var e=r.props.isReordering;r.setState({isActive:!e}),b.c.loader()},r.handleMouseLeave=function(){r.setState({isActive:!1})},i=n,a(r,i)}return i(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function e(t){t.isReordering&&this.setState({isActive:!1})},t.prototype.render=function e(){var t=this.props,n=t.boardCardHeight,o=t.boardCardWidth,a=t.canEdit,i=t.images,c=t.isMergeTarget,l=t.isOwnProfile,b=t.layout,g=t.onEditClick,v=t.progress,w=t.reduxBoard,E=t.subtitle,_=t.toastImageUrl,O=t.isUserBlocked,B=this.state.isActive,C=b||"wide";if(!w)return null;var P=w.collaborating_users,j=void 0===P?[]:P,x=w.cover_pin,R=w.followed_by_me,S=w.has_custom_cover,I=w.id,T=w.is_collaborative,k=w.image_cover_url,L=w.name,D=w.owner,A=w.owner.id,M=w.pin_count,W=w.section_count,U=w.url,N=x&&x.crop&&x.image_size&&{x:x.crop[0],y:x.crop[1],width:x.image_size[0],height:x.image_size[1]}||{x:0,y:0,width:0,height:0},z=x.image_url?{isCustom:S,position:N,url:x.image_url}:void 0;return s.createElement(h.d,{active:B||c},s.createElement(h.b,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-test-id":"board-"+L},"list"===C?s.createElement(h.b,{alignItems:"center",display:"flex",marginLeft:-4,marginRight:-4},s.createElement(h.b,{column:9,display:"flex",paddingX:4},s.createElement(h.b,{display:"flex",justifyContent:"between",flex:"grow",marginLeft:-4,marginRight:-4},s.createElement(h.b,{paddingX:4,overflow:"hidden"},s.createElement(h.b,{display:"flex",marginLeft:-2,marginRight:-2},s.createElement(h.b,{flex:"none",paddingX:2},s.createElement(h.b,{dangerouslySetInlineStyle:{__style:{borderRadius:4}},height:40,overflow:"hidden",width:40},k?s.createElement(h.o,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:k}):s.createElement(h.b,{color:"lightGray",height:"100%",width:"100%"}))),s.createElement(h.b,{alignItems:"center",display:"flex",marginLeft:-1,marginRight:-1,overflow:"hidden",paddingX:2},s.createElement(h.b,{overflow:"hidden",paddingX:1},s.createElement(h.J,{bold:!0,size:"lg",truncate:!0},L)),T&&s.createElement(h.b,{paddingX:1},s.createElement(h.m,{accessibilityLabel:p.a._("Group board","Accessibility label to indicate group boards"),color:"darkGray",icon:"people",size:12}))))),s.createElement(h.b,{paddingX:4,display:"flex",alignItems:"center",flex:"none"},s.createElement(f.a,{pinCount:M,sectionCount:W})))),s.createElement(h.b,{alignItems:"center",column:3,display:"flex",marginLeft:-1,marginRight:-1,paddingX:4,justifyContent:"between"},E&&s.createElement(h.b,{overflow:"hidden",paddingX:1},s.createElement(h.J,{size:"sm",__dangerouslyIncreaseLineHeight:!0,truncate:!0},E)),a&&B&&s.createElement(h.b,{flex:"none",paddingX:1},s.createElement(h.n,{icon:"edit",onClick:function e(t){var n=t.event;return g(n)},accessibilityLabel:p.a._("Edit")})))):s.createElement(h.b,null,s.createElement(h.b,{position:"relative"},"wide"===C&&s.createElement(d.a,{width:o,height:n,boardThumbs:i["170x"],cover:z,coverPin:x}),"square"===C&&s.createElement(m.a,{width:o,height:n,boardName:L,boardThumbs:i["170x"],coverImagePos:N,coverImageUrl:x.image_url,customCover:S}),T&&s.createElement(h.b,{position:"absolute",bottom:!0,left:!0,marginLeft:2,marginBottom:-2},s.createElement(h.k,{collaborators:[D].concat(j).slice(0,y).map(function(e){return{name:e.full_name||e.username,src:e.is_default_image?void 0:e.image_medium_url}}),outline:!0,size:"md"}))),"number"==typeof v?s.createElement(h.b,{marginBottom:-1},s.createElement(r,{height:4,progress:v})):null,s.createElement(h.b,{display:"flex",alignItems:"center",paddingY:1},s.createElement(h.b,{padding:2,flex:"grow",overflow:"hidden"},s.createElement(h.J,{bold:!0,truncate:!0,size:"xl"},L),s.createElement(f.a,{pinCount:M,sectionCount:W}),l&&s.createElement(h.J,{size:"sm",truncate:!0},E)),a&&B&&s.createElement(h.b,{flex:"none",marginRight:1},s.createElement(h.n,{icon:"edit",onClick:function e(t){var n=t.event;return g(n)},accessibilityLabel:p.a._("Edit")})),!a&&!O&&s.createElement(h.b,{flex:"none"},s.createElement(u.a,{boardId:I,boardName:L,boardImage:_,boardUrl:U,isFollowed:R,ownerId:A}))))))},t}(s.Component);E.defaultProps={layout:"wide"};var _=t.b=Object(g.compose)(Object(l.connect)(function(e,t){var n=t.board&&t.board.owner&&t.board.owner.id,r=e.users[n],o=t.board&&t.board.id,a=e.boards&&e.boards.content&&e.boards.content[o];return{isUserBlocked:r&&r.blocked_by_me,reduxBoard:a}}))(E)},Xafg:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.name,n=e.upwtActionName,r=e.resourceDependencies,o=void 0===r?function(){return[]}:r,a=e.routeContextLog,l=void 0===a?function(e,t,n){return null}:a,u=e.metatagResource,p=void 0===u?function(){return null}:u,f=e.placementId,h=void 0===f?null:f,b=e.redirect,g=void 0===b?function(){return null}:b,v=e.getRenderError,y=void 0===v?function(){return null}:v;return function e(r){var a,u;return u=a=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.prototype.render=function e(){var t=this.props,n=t.params,o=t.location,a=void 0===o?{}:o,i=(this.props.route||{}).legacy_server_context;return d.createElement(m,{log:l(i||{},n||{},a||{})},d.createElement(r,this.props))},t}(d.Component),a.WrappedComponent=r,a.routeName=t,a.upwtActionName=n,a.placementId=h,a.displayName="StaticRouteData",a.getMetatagResource=p,a.getContextLog=l,a.getResourceDependencies=o,a.getRedirect=g,a.getRenderError=y,u}}var d=n("d6ZO"),u=n.n(d),p=n("WjSu"),f=n("hVsM"),h=n("SnoN"),m=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.props.log;if(t){var n=f.a.fromPlainObject(t);n.setEventType(13),n.setRequestIdentifier(p.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),h.a.getInstance().addEvent(n)}},t.prototype.render=function e(){return this.props.children},t}(d.Component),b=n("9FEF");t.a=l},XzH3:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),c=n("DUIN"),l=n("a3d+"),d=n("W/Cr"),u=n("tmfO"),p=n("v6Mz"),f=n("gEaE"),h=n("suNN"),m=n("EfF6"),b=n("nhMV"),g=n("Kqaz"),v=n("MQ2h"),y=n.n(v),w="write",E=200,_=200,O=function(e){function t(n){r(this,t);var a=o(this,e.call(this,n));B.call(a);var i=n.board.has_custom_cover?n.board.image_cover_hd_url||n.board.image_cover_url:"";return a.state={coverImagePos:{height:0,width:0,x:n.board.has_custom_cover?n.board.cover_pin.crop[0]:0,y:n.board.has_custom_cover?n.board.cover_pin.crop[1]:0},coverImageUrl:i,isEditModalOpen:!1},a}return a(t,e),t.prototype.render=function e(){if(!this.props.board)return null;var t=this.props,n=t.boardCardHeight,r=t.boardCardWidth,o=t.board,a=t.images,s=t.isMergeTarget,c=t.isReordering,d=t.isOwnProfile,h=t.onBoardArchiveChange,m=t.onBoardDelete,b=t.onBoardPrivacyChange,g=t.onBoardUpdate,v=t.profileBoardView,y=t.progress,w=t.slotIndex,E=t.isUserBlocked,_=o.image_cover_url,O=o.image_cover_hd_url,B=o.url,C=this.state,P=C.coverImagePos,j=C.coverImageUrl,x=C.isEditModalOpen,R=d||o.access.includes("write"),S=this.getSubtitleText(),I=_||O||"";return i.createElement(f.b,null,i.createElement(u.b,{onClick:this.handleBoardCardClick,to:B},i.createElement(p.a,{boardCardHeight:n,boardCardWidth:r,board:o,canEdit:R,coverImagePos:P,coverImageUrl:j,images:a||o.images,isMergeTarget:s,isReordering:c,isOwnProfile:d,layout:d?v:"wide",onEditClick:this.handleEditClick,progress:y,slotIndex:w,subtitle:S,toastImageUrl:I,isUserBlocked:E})),x&&i.createElement(l.a,{boardId:o.id,coverImageHeight:200,coverImageWidth:200,onBoardArchiveChange:h,onBoardDelete:m,onBoardPrivacyChange:b,onBoardUpdate:g,onClose:this.handleEditClose,onCropChange:this.handleCoverImageChange}))},t}(i.Component);O.defaultProps={isMergeTarget:!1,isOwnProfile:!1,isReordering:!1};var B=function e(){var t=this;this.UNSAFE_componentWillReceiveProps=function(e){if(t.props.board.id!==e.board.id){var n=e.board.image_cover_hd_url||e.board.image_cover_url,r=t.state.coverImageUrl;e.board.has_custom_cover?n!==r&&t.setState({coverImageUrl:n}):t.setState({coverImageUrl:""})}else t.props.progress&&t.props.progress<1&&(!e.progress||1===e.progress)&&e.updateBoard()},this.getSubtitleText=function(){var e=t.props,n=e.board,r=e.boardOrder,o=e.isOwnProfile,a=e.profileBoardView,s=o&&"list"===a;if(n.archived_by_me_at){var c=d.a.getHumanizedTimesince(n.archived_by_me_at);return s?i.createElement("span",null,c):Object(h.b)(d.a._("Archived {{ timeSince }}","subtitle for archived boards on profile page"),{timeSince:c})}if(r&&("newest"===r||"oldest"===r))return s?i.createElement("span",null,i.createElement(b.b,{value:new Date(n.created_at),dateFormatType:b.a.LONG})):null;if(r&&"last_pinned_to"===r||s){var l=d.a.getHumanizedTimesince(n.board_order_modified_at);return s?i.createElement("span",null,l):null}return null},this.handleBoardCardClick=function(){var e=t.props,n=e.board;(0,e.contextLog)(101,{component:1,element:36,objectId:n.id,view:4})},this.handleCoverImageChange=function(e,n){t.setState({coverImageUrl:e,coverImagePos:n})},this.handleEditClick=function(e){e.preventDefault(),e.stopPropagation();var n=t.props,r=n.board,o=n.contextLog;t.setState({isEditModalOpen:!0}),o(101,{component:1,element:81,objectId:r.id,view:4})},this.handleEditClose=function(){t.setState({isEditModalOpen:!1})}};t.a=Object(v.compose)(Object(c.connect)(function(e,t){var n=e.blockingActions,r=e.boards,o=e.ui;return{images:(r.content[t.board.id]||{}).images,pinCount:(r.content[t.board.id]||{}).pin_count||0,profileBoardView:o.views&&o.views.profileBoardView,progress:((n.boardMap[t.board.id]||{}).wholeBoard||{}).progress}},function(e,t){return{updateBoard:function n(){return e(Object(m.d)(t.board.id,"profile_grid_item"))}}}),g.a)(O)},aTwL:function(e,t,n){"use strict";function r(e){var t=e.pinCount,n=e.sectionCount;return o.createElement(d.b,{display:"flex",direction:"row"},n?o.createElement(d.b,{display:"none",smDisplay:"flex",overflow:"hidden"},o.createElement(d.J,{size:"sm",inline:!0,truncate:!0},Object(l.b)(s.a.ngettext("{{ count }} section","{{ count }} sections",n,"label for n amount of sections"),{count:o.createElement(c.a,{value:n,key:"section_count"})})),o.createElement(i.a,null)):null,o.createElement(d.b,{overflow:"hidden"},o.createElement(d.J,{size:"sm",truncate:!0},Object(l.b)(s.a.ngettext("{{ count }} Pin","{{ count }} Pins",t,"label for n amount of pins"),{count:o.createElement(c.a,{value:t,key:"pin_count"})}))))}t.a=r;var o=n("d6ZO"),a=n.n(o),i=n("jhop"),s=n("W/Cr"),c=n("xfx3"),l=n("suNN"),d=n("gEaE")},acfG:function(e,t,n){"use strict";function r(e){var t=e.backgroundColor,n=e.followersCount,r=e.followersCountDisplay,o=e.image,s=e.name,c=e.width,u=i.a.ngettext("{{ count }} {{ label }}","{{ count }} {{ label }}",n||0,"indicate a number of followers"),p=i.a.ngettext("follower","followers",n||0,"used in {{count}} {{followers}}");return a.a.createElement(d.b,null,a.a.createElement(d.t,{shape:"rounded"},o?a.a.createElement(d.b,{position:"relative"},a.a.createElement(d.r,{width:c,height:c,contentAspectRatio:o.width/o.height},a.a.createElement(d.o,{alt:s,color:t,naturalHeight:1,naturalWidth:1,src:o.url})),a.a.createElement(d.b,{height:c,width:c,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom,\n                  rgba(181, 181, 181, .1) 0%,\n                  rgba(0, 0, 0, .2) 33%,\n                  rgba(0, 0, 0, .5) 66%,\n                  rgba(0, 0, 0, .7) 100%)"}},position:"absolute",top:!0})):a.a.createElement(d.b,{height:c,width:c,dangerouslySetInlineStyle:{__style:{backgroundColor:t}}}),a.a.createElement(d.b,{bottom:!0,left:!0,right:!0,position:"absolute",padding:3},a.a.createElement(d.J,{bold:!0,color:"white",overflow:"normal",size:"lg",smSize:"sm",mdSize:"md",lgSize:"lg"},s),n?a.a.createElement(d.b,null,Object(l.b)(u,{count:a.a.createElement(d.J,{bold:!0,color:"white",inline:!0,key:"followersCount",size:"sm"},r),label:a.a.createElement(d.J,{color:"white",inline:!0,key:"followersLabel",size:"sm"},p)})):null)))}t.a=r;var o=n("d6ZO"),a=n.n(o),i=n("W/Cr"),s=n("IaRT"),c=n.n(s),l=n("suNN"),d=n("gEaE")},az75:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),c=n("IaRT"),l=n.n(c),d=n("gEaE"),u=2,p=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function e(){var t=this.props,n=t.boardThumbs,r=void 0===n?[]:n,o=t.coverImagePos,a=t.coverImageUrl,i=t.height,c=t.width,l=o&&a&&""!==a,u=c/2-1,p=i/2-1,f=[].concat(r.slice(0,l?3:4),[].concat(new Array(4).fill({url:""}))).slice(0,l?3:4);return s.a.createElement(d.t,{shape:"rounded",width:c,height:i},s.a.createElement(d.b,{display:"flex",wrap:!0},l&&s.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{marginBottom:2,marginRight:2}}},s.a.createElement(d.t,{wash:!0,height:p,width:u},s.a.createElement(d.o,{alt:"",src:a,color:"#EFEFEF",naturalWidth:o.width||1,naturalHeight:o.height||1,fit:"cover"}))),f.map(function(e,t){return s.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{marginBottom:0===t||!l&&1===t?2:0,marginRight:!l&&(0===t||2===t)||l&&1===t?2:0}},key:t},e&&""!==e.url?s.a.createElement(d.t,{wash:!0,height:p,width:u,key:t},s.a.createElement(d.o,{alt:"",src:e.url||"",color:e.dominant_color||"#EFEFEF",naturalWidth:e.width||1,naturalHeight:e.height||1,fit:"cover"})):s.a.createElement(d.b,{color:"lightGray",key:t,width:u,height:p}))})))},t}(i.Component);t.a=p},bhla:function(e,t,n){"use strict";function r(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o(e){var t=e.hoverRelativePosition,n=t.positionRelativeToCenter.x,r=t.boundingBox.width,o=e.centerEnabled?i*r:0;return Math.abs(n)<o/2?"center":n<0?"left":"right"}function a(e){var t=e.hoverLocation,n=t.itemIndex,r=t.regionWithinItem,o=e.sourceIndex;if("center"===r||n===o)return n;var a="left"===r;return n<o===a?n:a?n-1:n+1}t.c=r,t.a=o,t.b=a;var i=.5},gTNS:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("gEaE"),i=function e(t){var n=t.text;return r.createElement(a.h,null,r.createElement(a.b,{paddingY:5},r.createElement(a.l,{color:"gray",size:"xs"},n)))};t.a=i},hCt5:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s(e){var t=e.params,n=i(e,["params"]),r=n.experiments,o=n.user.data,a=n.viewer,s=a.isAuth&&a.username===t.username;return o&&s&&o.is_partner&&0===o.pin_count&&["enabled","employees"].includes(r.activate("partner_profile_empty_state"))?c.createElement(S,null):o&&c.createElement(w.b,null,c.createElement(I.d,{firstName:o.first_name,id:o.id,isOwnProfile:s,pinCount:o.pin_count,showNativePins:!0,username:t.username,showPersistentPromoteButton:a.isAuth&&a.isPartner}))}Object.defineProperty(t,"__esModule",{value:!0});var c=n("d6ZO"),l=n.n(c),d=n("DUIN"),u=n("BAXv"),p=n("9pVi"),f=n.n(p),h=n("W/Cr"),m=n("Kqaz"),b=n("MQ2h"),g=n.n(b),v=n("kzic"),y=n("dCTv"),w=n("gEaE"),E=n("wr/6"),_=160,O=550,B=60,C=40,P=20,j=236,x=354,R=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.handleCreatePinClick=function(){var e=a.props,t=e.contextLog,n=e.dispatch,r=e.experiments,o=e.router;t(101,{component:13201,element:10713}),["enabled","employees","rollout"].includes(r.activate("web_pin_builder"))?o.push("/pin-builder/"):n&&n(Object(E.h)(E.a.NATIVE_CONTENT))},i=n,o(a,i)}return a(t,e),t.prototype.renderBubbleWithRecommendation=function e(t,n,r,o){return l.a.createElement(w.b,{width:160},l.a.createElement(w.b,{height:r,width:r,color:o,shape:"circle",marginBottom:2}),l.a.createElement(w.b,{marginBottom:2},l.a.createElement(w.J,{size:"xl",bold:!0,overflow:"normal"},t)),l.a.createElement(w.J,{size:"xs",overflow:"normal"},n))},t.prototype.render=function e(){return l.a.createElement(w.b,{display:"flex",justifyContent:"center",position:"relative",marginBottom:3},l.a.createElement(w.b,{position:"absolute",left:!0,display:"none",height:"100%",alignItems:"center",width:"50%",mdDisplay:"flex",lgDisplay:"flex",justifyContent:"center"},this.renderBubbleWithRecommendation(h.a._("Bring your best ideas","best practice for creative"),h.a._("People come to Pinterest actively looking for ideas to try. Make your ideas actionable and inspiring.","best practice for creative"),60,"orange")),l.a.createElement(w.b,{position:"absolute",right:!0,display:"none",alignItems:"center",width:"45%",mdDisplay:"flex",lgDisplay:"flex",justifyContent:"between",direction:"column"},l.a.createElement(w.b,{height:215}),this.renderBubbleWithRecommendation(h.a._("Tell a (little) story","best practice for creative"),h.a._("If your image needs some more context, add copy to it so you get your message across.But you don't need to go overboard.","best practice for creative"),40,"blue"),l.a.createElement(w.b,{height:70}),this.renderBubbleWithRecommendation(h.a._("Use a vertical aspect ratio","best practice for creative"),h.a._("Using a 2:3 ratio for your Pin images ensures they look great in home feed and search results.","best practice for creative"),20,"pine")),l.a.createElement(w.b,{display:"flex",alignItems:"center",direction:"column"},l.a.createElement(w.b,{marginBottom:5},l.a.createElement(w.l,{size:"sm"},h.a._("Create your first Pin","Title for section about creating pins"))),l.a.createElement(w.b,{height:550,width:550,color:"lightGray",shape:"circle",display:"flex",justifyContent:"center",alignItems:"center",direction:"column"},l.a.createElement(w.b,{marginBottom:3,width:236,dangerouslySetInlineStyle:{__style:{zIndex:1}}},l.a.createElement(w.c,{text:h.a._("Create Pin"),color:"red",onClick:this.handleCreatePinClick})),l.a.createElement(w.t,{height:354,width:236,shape:"rounded"},l.a.createElement(w.o,{src:f.a,naturalHeight:708,naturalWidth:472,color:"white",alt:h.a._("Sample pin","alt text for sample pin image")})),l.a.createElement(w.b,{marginTop:3,width:236,dangerouslySetInlineStyle:{__style:{zIndex:1}}},l.a.createElement(w.J,{bold:!0,size:"sm",align:"center"},l.a.createElement(w.s,{href:u.a.GEN.templateConst.settings.RELATIVE_PARTNER_SITE_URL+"/how-to-make-great-pins/",inline:!0},h.a._("Learn more about how to make great Pins","Link leading to best practices page")))))))},t}(l.a.Component),S=Object(b.compose)(Object(d.connect)(),m.a,y.a,v.withRouter)(R),I=n("4wJQ"),T=n("JyNp"),k=n("Xafg"),L=n("i0Ug"),D=t.default=Object(b.compose)(L.a,Object(T.c)({name:"UserResource",key:"user",options:function e(t){return{field_set_key:"profile",username:t.params.username}}}),Object(k.a)({name:"PinsList",routeContextLog:function e(t,n){var r=void 0;return(t.user||{}).username===n.username&&(r=t.user.id),{object_id_str:r,view_type:4,view_parameter:74}}}),y.a)(s)},jhop:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("gEaE"),i=function e(t){return r.createElement(a.b,{display:"flex",justifyContent:"center",paddingX:1},r.createElement(a.J,{size:"sm",color:"darkGray",bold:!0},""))};t.a=i},k4he:function(e,t,n){"use strict";function r(e,t){var n=e.backgroundColor,r=e.followedByMe,a=e.followersCount,l=e.id,d=e.image,h=e.name,m=e.url,b=e.width,g=void 0===b?f:b,v=e.followingButton,y=a?s.b.prettyNumberFormat(t.locale,a,{shortform:!0,shortform_maximum_fraction_digits:1}):"",w=v||o.createElement(i.a,{fullWidth:!0,topicId:l,isFollowed:r});return o.createElement(p.d,null,o.createElement(p.b,{width:g},m?o.createElement(c.b,{to:"/topics/"+m+"/"},o.createElement(u.a,{backgroundColor:n,followersCount:a,followersCountDisplay:y,image:d,name:h,width:g})):o.createElement(u.a,{backgroundColor:n,followersCount:a,followersCountDisplay:y,image:d,name:h,width:g}),o.createElement(p.b,{column:12,marginTop:2},w)))}t.a=r;var o=n("d6ZO"),a=n.n(o),i=n("/WZQ"),s=n("mnfW"),c=n("tmfO"),l=n("IaRT"),d=n.n(l),u=n("acfG"),p=n("gEaE"),f=236;r.contextTypes={locale:d.a.string.isRequired}},kopg:function(e,t,n){"use strict";function r(e){var t=e.image,n=e.width,r=e.height;return t?i.createElement(c.t,{wash:!0,width:n,height:r},i.createElement(c.o,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:t.height||1,naturalWidth:t.width||1,src:t.url||""})):i.createElement(c.b,{color:"lightGray",width:n,height:r})}function o(e){var t=e.customCover,n=e.height,r=e.imgUrl,o=e.imgPos,a=e.width,s={height:n,width:a},c=n/a,l="center center";if(t&&o){var d=1;d=o.height/o.width>c?a/o.width:n/o.height,l="-"+o.x*d+"px -"+o.y*d+"px"}var u={backgroundImage:"url("+r+")",backgroundPosition:l,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF"};return i.createElement("div",{style:s},i.createElement("div",{className:"relative",style:u},i.createElement("div",{className:"imageWash absolute"})))}function a(e){var t=e.boardThumbs,n=e.coverPin,a=e.cover,s=e.height,u=e.numCols,p=e.width,f=a&&n&&n.image_signature?t.filter(function(e){return-1===e.url.search(n.image_signature)}):t,h=a?Math.floor(u/2):u,m=f.slice(0,2*h).map(function(e){return e.url||""}).sort().join(""),b=d(m)%h;return i.createElement(c.t,{shape:"rounded",width:p,height:s},i.createElement(c.f,{columns:u,cover:!!a,gutter:l,height:s,layoutKey:b,renderImage:function e(t){var n=t.index,s=t.width,c=t.height;return 0===n&&a?i.createElement(o,{customCover:a.isCustom,height:c,imgUrl:a.url,imgPos:a.position||{width:0,height:0,x:0,y:0},width:s}):i.createElement(r,{height:c,image:f[n],width:s})},width:p}))}var i=n("d6ZO"),s=n.n(i),c=n("gEaE");t.a=a;var l=2,d=function e(t){var n=0;if(0===t.length)return n;for(var r=0;r<t.length;r+=1)n=(n<<5)-n+t.charCodeAt(r),n&=n;return Math.abs(n)};a.defaultProps={boardThumbs:[],height:200,width:300,numCols:3}},lzxq:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),c=n("DUIN"),l=n("qZXM"),d=n("W/Cr"),u=n("tmfO"),p=n("Kqaz"),f=n("i0Ug"),h=n("MQ2h"),m=n.n(h),b=n("LQXo"),g=n("gEaE"),v=n("6oz1"),y=n("wr/6"),w=40,E=function(e){function t(){var n,a,i;r(this,t);for(var c=arguments.length,l=Array(c),u=0;u<c;u++)l[u]=arguments[u];return n=a=o(this,e.call.apply(e,[this].concat(l))),a.handleAddPin=function(){var e=a.props,t=e.contextLog;e.viewer.isPartner&&t(101,{component:0,element:10643}),a.props.showCreateFlow(y.a.NATIVE_CONTENT)},a.renderAddPin=function(){return s.a.createElement(g.d,null,s.a.createElement(g.b,{display:"flex",alignItems:"center",justifyContent:"center",color:"lightGray",shape:"rounded",height:b.b,fit:!0},s.a.createElement(g.b,{height:w,shape:"circle",width:w,color:"white"},s.a.createElement(g.m,{accessibilityLabel:"",color:"red",icon:"add-circle",inline:!0,size:w}))),s.a.createElement(g.b,{padding:2},s.a.createElement(g.J,{bold:!0,size:"lg",color:"gray"},d.a._("Create Pin","label to open create pin modal"))))},i=n,o(a,i)}return a(t,e),t.prototype.render=function e(){return s.a.createElement(g.b,null,s.a.createElement(v.b,{name:"web_pin_builder"},s.a.createElement(v.a,null,s.a.createElement(g.O,{onTouch:Object(l.a)(this.handleAddPin),shape:"rounded",fullWidth:!1},this.renderAddPin())),s.a.createElement(v.c,{group:["enabled","employees","rollout"]},s.a.createElement(u.b,{to:"/pin-builder/"},this.renderAddPin()))))},t}(i.Component),_=function e(t){return{showCreateFlow:function e(n){return t(Object(y.h)(n))}}};t.a=Object(h.compose)(Object(c.connect)(null,_),p.a,f.a)(E)},nhMV:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mnfW"),o=n("IaRT"),a=n.n(o),i=r.b.DateFormatType,s=function e(t,n){var o=t.dateFormatType,a=t.useUTC,i=void 0===a||a,s=t.value,c=n.locale;return r.b.formatDate(c,s,o,i)};s.contextTypes={locale:a.a.string.isRequired},t.b=s},s6Db:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e){var t=e.hasCustomOrder,n=e.isOwnProfile,r=e.mostRecentBoardSortOrder,o=e.updatedBoardOrder,a=t?"custom":"last_pinned_to";return n&&o?a=o:r&&(a=r),a}Object.defineProperty(t,"__esModule",{value:!0});var y=n("d6ZO"),w=n.n(y),E=n("DUIN"),_=n("IaRT"),O=n.n(_),B=n("JyNp"),C=n("pN+K"),P=n("Xafg"),j=n("gEaE"),x=n("MQ2h"),R=n.n(x),S=n("S+Qs"),I=n("RklN"),T=n.n(I),k=n("XzH3"),L=n("sHc9"),D=n("tWOI"),A=n("4Gri"),M=function(e){function t(){var n,a,i;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=o(this,e.call.apply(e,[this].concat(c))),a.state={removedBoards:[]},a.componentWillUnmount=function(){a.state.removedBoards.length&&a.props.invalidateResource()},a.handleDelete=function(e){return a.setState(function(t){return{removedBoards:[].concat(t.removedBoards,[e.id])}})},i=n,o(a,i)}return a(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.archivedBoardsResource,r=t.traceLogger;r.sendEvent(new A.a),r.sendEvent(new A.R),r.sendEvent(new A.P({viewportFilled:!1,gridData:n.data,el:T.a.findDOMNode(this)})),this.props.traceLogger.sendEvent(new A.Q),r.sendEvent(new A.p({
result:1}))},t.prototype.render=function e(){var t=this,n=this.props,r=n.archivedBoardsResource,o=r.data,a=r.fetchMore,i=r.isAtEnd,s=r.isFetching,c=n.boardCardWidth,l=n.boardCardHeight,d=n.isOwnProfile,u=n.onBoardArchiveChange,p=n.profileBoardView,f=this.state.removedBoards,h=c+24,m="list"===p;return w.a.createElement(j.b,null,w.a.createElement(L.a,{itemWidth:h},w.a.createElement(j.B,{isAtEnd:i,isFetching:s,fetchMore:a}),o.filter(function(e){return!f.includes(e.id)}).map(function(e,n){var r=w.a.createElement(k.a,{board:e,boardCardHeight:l,boardCardWidth:c,isOwnProfile:d,onBoardArchiveChange:u,onBoardDelete:t.handleDelete,slotIndex:n,privacy:e.privacy});return m?w.a.createElement(j.b,{justifyContent:"center",display:"flex",width:"100%",key:e.id},w.a.createElement(j.b,{maxWidth:800,width:"100%",paddingX:3},w.a.createElement(j.i,null),w.a.createElement(j.b,{key:e.id,paddingY:3,width:"100%"},r))):w.a.createElement(j.b,{key:e.id,maxWidth:h,overflow:"hidden",paddingX:3,paddingY:5},r)})))},t}(y.Component);M.defaultProps={boardCardWidth:301,boardCardHeight:200};var W=Object(x.compose)(Object(E.connect)(null,function(e){return{invalidateResource:function t(){return e(Object(S.f)("BoardArchiveResource"))}}}),D.a)(M),U=n("BAXv"),N=n("PdvL"),z=n("W/Cr"),H=n("Esb+"),F=n.n(H),X=n("tmfO"),J=n("c2KC"),Z=n("RjD1"),V=n("BVzu"),Q=n("aoZs"),q=n("LQgx"),G=n("1QHH"),Y=n("Kqaz"),K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$=40,ee=function(e){function t(){var n,r,o;i(this,t);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return n=r=s(this,e.call.apply(e,[this].concat(c))),r.state={isCreateModalOpen:!1},r.handleCreateClick=r.props.authAction(function(){var e=r.props.contextLog;r.setState({isCreateModalOpen:!0}),e(101,{component:1,element:249,view:4})}),r.handleHide=function(){r.setState({isCreateModalOpen:!1})},o=n,s(r,o)}return c(t,e),t.prototype.render=function e(){var t=this.props,n=t.cardHeight,r=t.cardWidth,o=t.onBoardCreate,a=t.privacy,i=this.state.isCreateModalOpen,s=a===U.a.BoardPrivacy.PUBLIC?z.a._("Create board"):z.a._("Create secret board"),c=this.BoardCreateModal;return y.createElement(j.b,{"data-test-id":"createBoardCard"},y.createElement(j.O,{fullWidth:!1,onTouch:this.handleCreateClick,shape:"rounded"},y.createElement(j.d,null,y.createElement(j.b,{display:"flex",alignItems:"center",justifyContent:"center",color:"lightGray",shape:"rounded",width:r,height:n,fit:!0},y.createElement(j.b,{color:"white",height:40,width:40,shape:"circle"},y.createElement(j.m,{accessibilityLabel:"",color:"red",icon:"add-circle",size:40}))),y.createElement(j.b,{paddingX:2,paddingY:3},y.createElement(j.J,{bold:!0,color:"gray",size:"lg"},s)))),i&&y.createElement(c,{onBoardCreate:o,onClose:this.handleHide,privacy:a}))},K(t,[{key:"BoardCreateModal",get:function e(){var t=this;return Object(C.b)({name:"CategoriesResource",key:"categories"},{allowStale:!1})(function(e){var n=e.resourceLoaded,r=e.categories,o=e.onBoardCreate,a=e.onClose,i=e.privacy;return y.createElement(q.a,{className:"BoardCreate BoardEditBase",onHide:n?t.handleHide:null},n?y.createElement(Q.a,{categories:r,onBoardCreate:o,onClose:a,privacy:i}):y.createElement(j.F,{accessibilityLabel:z.a._("Create a board"),show:!0}))})}}]),t}(y.Component),te=Object(x.compose)(G.a,Y.a)(ee),ne=n("ZtCB"),re=n.n(ne),oe=n("zM1h"),ae=n("GU18"),ie=n("8tIN"),se=n("Cjb7"),ce=n("suNN"),le=n("g5tP"),de=n("mZ/m"),ue=n("3hjj"),pe=n("Pc8e"),fe=n("bhla"),he=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),me=-1,be=200,ge=20,ve=function(e){function t(){var n,r,o;l(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=d(this,e.call.apply(e,[this].concat(i))),r.state={boardIds:r.props.boards.map(function(e){return e.id}),dropAction:null,previewIndex:me,sourceIndex:me,targetIndex:me},r.cancelHoverTimeout=function(){var e=r.dragHoverTimeout;e&&clearTimeout(e.timeoutId),r.dragHoverTimeout=null},r.dragHoverTimeout=null,r.isDragging=function(){return r.state.sourceIndex!==me},r.handleBoardCardDragBegin=function(e){return r.setState({previewIndex:e,sourceIndex:e})},r.handleBoardCardDragHover=function(e,t){if(t){var n=r.state,o=n.boardIds,a=n.previewIndex,i=r.props,s=i.allowReordering,c=i.isOwnProfile;if(s||c){var l=s?Object(fe.a)({hoverRelativePosition:t,centerEnabled:e!==a&&c}):"center",d={itemIndex:e,regionWithinItem:l};if(!r.dragHoverTimeout||!Object(fe.c)(d,r.dragHoverTimeout.hoverLocation)){r.cancelHoverTimeout();var u="center"===l?"merge":"reorder",p=Object(fe.b)({hoverLocation:d,sourceIndex:a});p!==a?r.dragHoverTimeout={hoverLocation:d,timeoutId:setTimeout(function(){r.dragHoverTimeout=null,r.setState(Object.assign({dropAction:u,targetIndex:p},"reorder"===u?{previewIndex:p,boardIds:Object(de.d)(o,a,p)}:{}))},"reorder"===u?be:ge)}:p!==r.state.targetIndex&&r.setState({targetIndex:p})}}}},r.handleBoardCardDragEnd=function(e){var t=r.props,n=t.boards,o=t.onBoardReorder,a=t.boardOrder,i=r.state,s=i.boardIds,c=i.dropAction,l=i.previewIndex,d=i.sourceIndex,u=i.targetIndex,p=r.context,f=p.legacyShowInModal,h=p.legacyClearAllModals;if(r.cancelHoverTimeout(),r.setState({boardIds:n.map(function(e){return e.id}),previewIndex:me,sourceIndex:me,targetIndex:me}),e&&d!==me&&u!==me&&d!==u)if("custom"!==a&&f({accessibilityCloseLabel:z.a._("Close","Close button for board order overwrite modal"),accessibilityModalLabel:z.a._("Warning about overwriting board order","Accessible label for the board order overwrite modal"),children:y.createElement(j.b,{padding:4},y.createElement(j.J,null,Object(ce.b)(z.a._("Youre about to re-sort your boards. This will lose the custom board order you previously created using {{ dragAndDrop }}"),{dragAndDrop:y.createElement(j.J,{bold:!0,inline:!0},z.a._("Drag and drop","Text for indicating drag and drop sort order"))}))),footer:y.createElement(j.b,{display:"flex",marginLeft:-1,marginRight:-1,justifyContent:"end"},y.createElement(j.b,{padding:1},y.createElement(j.c,{size:"lg",text:z.a._("Cancel","Button text for canceling board re-ordering"),onClick:function e(){return h()}})),y.createElement(j.b,{padding:1},y.createElement(j.c,{size:"lg",color:"red",text:z.a._("Lose previous customization","Button text for confirming board re-ordering"),onClick:r.handleOverwriteBoardOrder}))),heading:z.a._("Are you sure?","Heading for board order overwriting modal"),size:"md",onDismiss:function e(){return h()},role:"alertdialog"}),"merge"===c){var m=function e(t){var r=s[t];return r&&n.find(function(e){return e.id===r})},b=m(l),g=m(u);if(b&&g){if(b.collaborated_by_me)return void f({accessibilityCloseLabel:z.a._("Close","close button"),accessibilityModalLabel:z.a._("Board Merge Error Alert","accessibility label for board merging error alert"),children:y.createElement(j.b,{padding:4},y.createElement(j.J,null,z.a._("You can't move this board because you didn't create it.","board merging error alert"))),footer:y.createElement(j.b,null,y.createElement(j.c,{color:"red",text:z.a._("Got it","ok button in board merging error alert"),onClick:function e(){return h()}})),heading:z.a._("Oops!","Modal heading for board merging confirmation modal"),onDismiss:function e(){return h()},role:"alertdialog",size:"md"});f({accessibilityCloseLabel:z.a._("Close","close button"),accessibilityModalLabel:z.a._("Confirm Board Merge","accessibility label for board merging confirmation modal"),children:y.createElement(j.b,{padding:4},y.createElement(J.a,{sourceBoard:b,targetBoard:g})),footer:y.createElement(j.b,{alignItems:"center",display:"flex",justifyContent:"end",marginLeft:-2,marginRight:-2},y.createElement(j.b,{paddingX:2},y.createElement(j.c,{inline:!0,text:z.a._("Cancel","Cancel button in board merging confirmation modal"),onClick:function e(){return h()}})),y.createElement(j.b,{paddingX:2},y.createElement(j.c,{inline:!0,color:"red",text:z.a._("Move Pins and delete board","Confirm button in board merging confirmation modal"),onClick:function e(){r.handleMergeBoards(b,g)}}))),heading:z.a._("Move Pins and delete board?","Modal heading for board merging confirmation modal"),onDismiss:function e(){return h()},role:"dialog",size:"md"})}}else o(d,u)},r.handleOverwriteBoardOrder=function(){var e=r.props.dispatch,t=r.context.legacyClearAllModals,n="custom";e(Object(ue.b)("custom")),re.a.create("UserMetadataResource",{most_recent_board_sort_order:"custom"}).callUpdate(),t()},r.handleMergeBoards=function(e,t){var n=r.context.legacyClearAllModals,o=r.props,a=o.contextLog,i=o.dispatch,s=o.showBlockingActionToast,c=o.onBoardDelete;a(7172,{objectId:e.id,merge_flow:"dnd"}),i(Object(le.i)(e.id,t.id)).then(function(){return s({actionType:"merge",board:t})}).catch(function(e){V.a.showError(e.message||z.a._("Failed to merge boards","Error message when failed to merge boards"))}),c(e.id),n()},o=n,d(r,o)}return u(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.boards,r=t.isOwnProfile,o=t.privacy,a=t.traceLogger;"public"===o?a.sendEvent(new A.G):a.sendEvent(new A.L),a.sendEvent(new A.R),a.sendEvent(new A.P({viewportFilled:!1,gridData:n,el:T.a.findDOMNode(this)})),this.props.traceLogger.sendEvent(new A.Q),r?a.sendEvent(new A.p({result:1})):a.sendEvent(new A.n({result:1}))},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){var n=function e(t){return t.map(function(e){return e.id}).join(",")};n(t.boards)!==n(this.props.boards)&&this.setState({boardIds:t.boards.map(function(e){return e.id}),dropAction:null,previewIndex:me,sourceIndex:me,targetIndex:me})},t.prototype.componentWillUnmount=function e(){se.b.publish("boardListUnmount","boardListUnmount",{}),this.cancelHoverTimeout()},t.prototype.render=function e(){var t=this,n=this.props,r=n.boardCardHeight,o=n.boardCardWidth,a=n.boardOrder,i=n.boards,s=n.connectDropTarget,c=n.hideCreateCard,l=n.isDragWithinBounds,d=n.isOwnProfile,u=n.isRetina,p=n.onBoardArchiveChange,f=n.onBoardDelete,h=n.onBoardPrivacyChange,m=n.onBoardUpdate,b=n.onBoardCreate,g=n.privacy,v=n.profileBoardView,w=n.isUserBlocked,E=this.state,_=E.boardIds,O=E.dropAction,B=E.targetIndex,C=this.allowDragging,P=i.reduce(function(e,t){var n;return Object.assign({},e,(n={},n[t.id]=t,n))},{}),x=_.map(function(e){return P[e]}).filter(function(e){return!!e}),R=o+24,S="list"===v,I=y.createElement("div",null,y.createElement(L.a,Object.assign({},S?{}:{itemWidth:R},{maxColumns:S?0:12}),d&&!c&&y.createElement(j.b,{paddingX:3,paddingY:5},y.createElement(te,{cardHeight:r,cardWidth:o,onBoardCreate:b,privacy:g})),x.map(function(e,n){var i=y.createElement(k.a,{boardCardHeight:r,boardCardWidth:o,board:e,boardOrder:a,isOwnProfile:d,isMergeTarget:"merge"===O&&n===B,isReordering:t.isDragging(),isRetina:u,onBoardArchiveChange:p,onBoardDelete:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return f(e.id)}),onBoardPrivacyChange:h,onBoardUpdate:m,slotIndex:n,isUserBlocked:w}),s=C?y.createElement(pe.b,{index:n,onDragBegin:t.handleBoardCardDragBegin,onDragHover:t.handleBoardCardDragHover,onDragEnd:t.handleBoardCardDragEnd,type:pe.a.Board},i):i,c={__style:{opacity:t.isDragging()&&!l?.5:1}};return S?y.createElement(j.b,{justifyContent:"center",display:"flex",width:"100%",key:e.id},y.createElement(j.b,{maxWidth:800,width:"100%",paddingX:3},y.createElement(j.i,null),y.createElement(j.b,{dangerouslySetInlineStyle:c,key:e.id,paddingY:3,width:"100%"},s))):y.createElement(j.b,{dangerouslySetInlineStyle:c,key:e.id,maxWidth:R,overflow:"hidden",paddingX:3,paddingY:5},s)})));return y.createElement(j.b,null,C&&s?s(I):I,this.isDragging()&&y.createElement(Z.a,null))},he(t,[{key:"allowDragging",get:function e(){return this.props.allowReordering||this.props.isOwnProfile}}]),t}(y.Component);ve.contextTypes={legacyRemoveModal:O.a.func,legacyShowInModal:O.a.func,legacyClearAllModals:O.a.func},ve.defaultProps={boardCardWidth:300,boardCardHeight:200};var ye=Object(x.compose)(Object(oe.a)(pe.a.Board),ie.a,Y.a,Object(E.connect)(),ae.a,D.a)(ve),we=n("gTNS"),Ee=n("WBZ1"),_e=n.n(Ee),Oe=n("nX0T"),Be=n("+kCg"),Ce=n("kzic"),Pe=25,je=1e3,xe=5,Re=100,Se={square:193,wide:300,list:"100%"},Ie={square:193,wide:200,list:"auto"},Te=function e(t){var n=t.headerLabel,r=void 0===n?"":n;return y.createElement(j.h,null,y.createElement(j.b,{alignItems:"center",display:"flex",marginBottom:2,marginLeft:-4,marginRight:-4,paddingX:3},y.createElement(j.b,{column:9,display:"flex",justifyContent:"between",paddingX:4},y.createElement(j.J,{color:"gray",size:"sm"},z.a._("Name","Profile header - board name"))),y.createElement(j.b,{alignItems:"center",column:3,display:"flex",paddingX:4},y.createElement(j.J,{color:"gray",size:"sm"},r))))},ke=function e(t){var n=t.description,r=t.icon,o=t.link,a=t.title;return y.createElement(j.h,null,y.createElement(j.b,{paddingY:6,paddingX:3},y.createElement(j.J,{bold:!0,size:"sm"},a," ",y.createElement(j.m,{accessibilityLabel:"",color:"darkGray",icon:r,inline:!0,size:12})),y.createElement(j.J,{inline:!0,size:"sm"},n),o||null))},Le=function(e){function t(n,r){p(this,t);var o=f(this,e.call(this,n,r));return De.call(o),o.state=Object.assign({resourceShouldInvalidate:!1},o.getBoardsState(n)),o}return h(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.isOwnProfile,r=t.traceLogger;t.publicAndSecretBoardsLoaded&&(n?r.sendEvent(new A.p({result:1,trackImages:!1})):r.sendEvent(new A.n({result:1,trackImages:!1}))),window.addEventListener("scroll",this.handleScrollOrResize),window.addEventListener("resize",this.handleScrollOrResize)},t.prototype.UNSAFE_componentWillReceiveProps=function e(t){var n=this;if(t.publicAndSecretBoardsLoaded)if(this.props.publicAndSecretBoardsLoaded)if((this.props.boards.data||[]).length!==(t.boards.data||[]).length||((this.props.secretBoards||{}).data||[]).length!==((t.secretBoards||{}).data||[]).length||this.props.archivedBoards&&this.props.archivedBoards.isLoaded&&(this.props.archivedBoards.data||[]).length!==(t.archivedBoards.data||[]).length)this.setState(this.getBoardsState(t),function(){window.scroll(0,0)});else{var r=this.props.boards.data&&this.props.boards.data.map(function(e){return e.id}),o=t.boards.data&&t.boards.data.map(function(e){return e.id}),a=this.props.secretBoards&&this.props.secretBoards.data&&this.props.secretBoards.data.map(function(e){return e.id}),i=t.secretBoards&&t.secretBoards.data&&t.secretBoards.data.map(function(e){return e.id});if(r&&r.length&&!F()(r,o)||!F()(a,i))this.setState(this.getBoardsState(t));else{var s=t.boards.data,c=t.secretBoards,l=(c=void 0===c?{}:c).data,d=[].concat(s||[],l||[]).map(function(e){return e.id}).filter(function(e){return n.boardExists(e,n.props.deletingBoardMap)&&!n.boardExists(e,t.deletingBoardMap)});d.length&&this.handleBoardsDelete(d)}}else this.setState(this.getBoardsState(t))},t.prototype.componentDidUpdate=function e(t,n){var r=this.props,o=r.boards,a=r.publicAndSecretBoardsLoaded,i=r.secretBoards;!t.publicAndSecretBoardsLoaded&&a&&(this.markResourcesFetchingTime(o.data||[],(i||{}).data||[]),Be.b.endTiming({upwtStopReason:1,forceEndtiming:!0})),this.state.numPublicBoardsShown===n.numPublicBoardsShown&&this.state.numPrivateBoardsShown===n.numPrivateBoardsShown&&this.state.numProtectedBoardsShown===n.numProtectedBoardsShown||this.showMoreBoardsIfNecessary()},t.prototype.componentWillUnmount=function e(){window.removeEventListener("scroll",this.handleScrollOrResize),window.removeEventListener("resize",this.handleScrollOrResize);var t=this.state.resourceShouldInvalidate,n=this.props,r=n.boards,o=n.secretBoards;t&&(r.refreshData(),o&&o.refreshData())},t.prototype.boardRepHeight=function e(){var t=this.props,n=t.boardCardHeight,r=t.isOwnProfile,o=t.profileBoardView;return r&&o?Ie[o]:n},t.prototype.boardRepWidth=function e(){var t=this.props,n=t.boardCardWidth,r=t.isOwnProfile,o=t.profileBoardView;return r&&o?Se[o]:n},t.prototype.renderBoardsList=function e(t,n){var r=this.props,o=r.boardOrder,a=r.isOverview,i=r.isOwnProfile,s=r.isRetina,c=r.isUserBlocked,l=r.profileBoardView,d=["privateBoards","protectedBoards"].includes(n)?"secret":"public",u=i&&l?l:"wide",p="list"===u,f="newest"===o||"oldest"===o?z.a._("Created on","Profile board list view heading label"):z.a._("Last saved to","Profile board list view heading label");return y.createElement(j.b,null,p&&y.createElement(Te,{headerLabel:f}),y.createElement(ye,{allowReordering:i,boardCardWidth:this.boardRepWidth(),boardCardHeight:this.boardRepHeight(),boards:t,boardOrder:o,buyablePins:[],hasShopCard:!1,hideCreateCard:"protectedBoards"===n||"list"===u,isOverview:a,isOwnProfile:i,isRetina:s,isUserBlocked:c,merchantID:"",onBoardArchiveChange:this.handleBoardArchiveChange,onBoardCreate:this.handleBoardCreate,onBoardDelete:this.handleBoardDelete,onBoardPrivacyChange:this.handleBoardPrivacyChange,onBoardReorder:this.handleBoardReorder(n),onBoardUpdate:this.handleBoardUpdate,privacy:d,profileBoardView:u}))},t.prototype.renderBoardsWithRestrictions=function e(t,n,r,o){var a="privateBoards"===n?y.createElement(X.b,{className:"underlineLink",to:U.a.GEN.templateConst.settings.HELP_BOARDS_SECRET_URL_SRC_PROFILE,useNewTab:!0},y.createElement(j.J,{bold:!0,inline:!0,size:"sm"},z.a._("Learn more"))):null;return y.createElement(j.b,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#f7f7f7"}},overflow:"hidden"},y.createElement(ke,{description:o,icon:"lock",title:r,link:a}),y.createElement(j.b,{marginBottom:6},this.renderBoardsList(t,n)))},t.prototype.renderBoards=function e(){var t=this.props,n=t.archivedBoards,r=t.firstName,o=t.isOwnProfile,a=t.profileBoardView,i=this.state,s=i.numPublicBoardsShown,c=i.numPrivateBoardsShown,l=i.numProtectedBoardsShown,d=i.publicBoards,u=void 0===d?[]:d,p=i.privateBoards,f=void 0===p?[]:p,h=i.protectedBoards,m=void 0===h?[]:h;if(!o&&!u.length)return y.createElement(we.a,{text:Object(ce.b)(z.a._("{{ firstName }} hasn't created any boards yet"),{firstName:r})});var b=s===u.length,g=l===m.length,v=c===f.length,w=b&&g&&v,E="list"===a;return y.createElement(j.b,{marginBottom:6,overflow:"hidden"},y.createElement(j.b,{marginTop:E?6:0},this.renderBoardsList(u.slice(0,s),"publicBoards")),o&&b&&y.createElement(j.b,{marginTop:6},this.renderBoardsWithRestrictions(f.slice(0,c),"privateBoards",z.a._("Secret boards"),z.a._("Only you and people you invite can see these boards. "))),o&&b&&m.length>0&&y.createElement(j.b,{marginTop:6},this.renderBoardsWithRestrictions(m.slice(0,l),"protectedBoards",z.a._("Protected boards"),z.a._("Protected boards are not shown on your profile page publicly but anyone with the URL can view them."))),o&&w&&n.isLoaded&&(n.data||[]).length>0&&y.createElement(j.b,null,y.createElement(ke,{description:z.a._("These are hidden from your profile.","subtitle for archived boards section on a profile"),icon:"remove",title:z.a._("Archived boards","title for archived boards section on a profile")}),E&&y.createElement(Te,{headerLabel:z.a._("Archived on","Profile board list view heading label")}),y.createElement(W,{boardCardWidth:this.boardRepWidth(),boardCardHeight:this.boardRepHeight(),archivedBoardsResource:n,isOwnProfile:o,onBoardArchiveChange:this.handleBoardArchiveChange,profileBoardView:a})))},t.prototype.render=function e(){var t=this,n=this.props,r=n.isOwnProfile,o=n.publicAndSecretBoardsLoaded,a=r?3106:3107;return y.createElement(Oe.a,{view:4,viewParameter:a,component:209},y.createElement("div",{ref:function e(n){t._container=n}},o?this.renderBoards():y.createElement(j.b,{padding:6},y.createElement(j.F,{accessibilityLabel:z.a._("Boards","List of boards on the users profile page"),show:!0}))))},t}(y.Component),De=function e(){var t=this;this.getBoardsState=function(e){var n=e.publicAndSecretBoardsLoaded,r=e.boards,o=e.secretBoards,a=e.deletingBoardMap,i=function e(n){return t.boardExists(n.id,a)},s=(n&&(r||{}).data||[]).filter(i),c=(n&&(o||{}).data||[]).filter(i),l=s.filter(function(e){return"protected"!==e.privacy}),d=c.filter(function(e){return"protected"!==e.privacy}),u=s.filter(function(e){return"protected"===e.privacy}),p=c.filter(function(e){return"protected"===e.privacy}),f=u.concat(p);return{publicBoards:l,privateBoards:d,protectedBoards:f,numPublicBoardsShown:Math.min(l.length,25),numPrivateBoardsShown:Math.min(d.length,25),numProtectedBoardsShown:Math.min(f.length,25)}},this.boardExists=function(e,t){return!(t[e]&&(t[e].success||t[e].deleting))},this.markResourcesFetchingTime=function(e,n){var r=[];if(e.concat(n).forEach(function(e){var t=e.images;t["170x"]&&t["170x"].forEach(function(e){r.push(e.url)})}),r.length>0){var o={resources:r};Be.b.mark("profileBoardsRendered",o,t._container)}},this._container=null,this.handleBoardCreate=function(e){t.setState({resourceShouldInvalidate:!0},function(){var n=t.props.router;n?n.push(e.url):Object(N.a)(e.url)})},this.handleBoardsDelete=function(e){var n=e.reduce(function(e,t){var n=e.privateBoards.filter(function(e){return e.id!==t});if(n.length!==e.privateBoards.length)return Object.assign({},e,{privateBoards:n,numPrivateBoardsShown:Math.min(e.numPrivateBoardsShown,n.length)});var r=e.protectedBoards.filter(function(e){return e.id!==t});if(r.length!==e.protectedBoards.length)return Object.assign({},e,{protectedBoards:r,numProtectedBoardsShown:Math.min(e.numProtectedBoardsShown,r.length)});var o=e.publicBoards.filter(function(e){return e.id!==t});return o.length!==e.publicBoards.length?Object.assign({},e,{publicBoards:o,numPublicBoardsShown:Math.min(e.numPublicBoardsShown,o.length)}):e},Object.assign({},t.state,{resourceShouldInvalidate:!0}));t.setState(n)},this.handleBoardDelete=function(e){return t.handleBoardsDelete([e])},this.handleBoardPrivacyChange=function(){var e=t.props,n=e.boards,r=e.secretBoards;n.refreshData(),r&&r.refreshData()},this.handleBoardUpdate=function(e,n){var r=t.state,o=r.publicBoards,a=r.privateBoards,i=r.protectedBoards,s=o.findIndex(function(t){return t.id===e}),c=a.findIndex(function(t){return t.id===e}),l=i.findIndex(function(t){return t.id===e});if(-1!==s){var d=[].concat(o),u=d[s],p=Object.assign({},u,n);d[s]=p,t.setState({publicBoards:d})}else if(-1!==c){var f=[].concat(a),h=f[c],m=Object.assign({},h,n);f[c]=m,t.setState({privateBoards:f})}else if(-1!==l){var b=[].concat(i),g=b[l],v=Object.assign({},g,n);b[l]=v,t.setState({protectedBoards:b})}},this.handleBoardArchiveChange=function(){t.handleBoardPrivacyChange(),t.props.archivedBoards.refreshData()},this.showMoreBoardsIfNecessary=function(){if(t.props.publicAndSecretBoardsLoaded&&t._container){var e=!1,n=document.documentElement,r=window.scrollY||n&&n.scrollTop;if(!(e="number"==typeof r&&r>=t._container.clientHeight-1e3)&&n){var o=r+window.innerHeight,a=t._container.clientHeight;e=Math.abs(a-o)<=5}if(e){var i=t.state,s=i.numPublicBoardsShown,c=i.numPrivateBoardsShown,l=i.numProtectedBoardsShown,d=i.publicBoards,u=i.privateBoards,p=i.protectedBoards;s<d.length?t.setState({numPublicBoardsShown:Math.min(s+25,d.length)}):c<u.length?t.setState({numPrivateBoardsShown:Math.min(c+25,u.length)}):l<p.length&&t.setState({numProtectedBoardsShown:Math.min(l+25,p.length)})}}},this.handleScrollOrResize=_e()(function(){t.showMoreBoardsIfNecessary()},100),this.handleBoardReorder=function(e){return function(n,r){var o,a=t.state[e],i=function e(t){return t>=0&&t<a.length};if(r!==n&&i(r)&&i(n)){var s=Object(de.d)(a,n,r);t.setState((o={},o[e]=s,o));var c=s.map(function(e){return e.id});re.a.create("BoardsReorderResource",{board_ids:c}).callUpdate({showError:!1}).then(function(){return t.setState({resourceShouldInvalidate:!0})})}}}},Ae=Object(x.compose)(Ce.withRouter,Object(E.connect)(function(e){return{deletingBoardMap:e.boards.deleting,profileBoardView:e.ui.views&&e.ui.views.profileBoardView}}),D.a)(Le),Me=n("HLDn");n.d(t,"PublicProfileBoards",function(){return He}),t.getBoardOrder=v,n.d(t,"ownProfileBoardsResourceInvalidates",function(){return Je});var We={name:"BoardsResource",key:"boards",options:function e(t){var n=t.boardOrder,r=t.limit,o=t.username;return Object(Me.b)(o,!1,n,r||500)}},Ue=Object.assign({},We,{options:function e(t){var n=t.boardOrder,r=t.username;return Object(Me.b)(r,!1,n,500)}}),Ne={name:"BoardsResource",key:"secretBoards",options:function e(t){var n=t.boardOrder,r=t.username;return Object(Me.b)(r,!0,n)}},ze={name:"BoardArchiveResource",key:"archivedBoards"},He=Object(x.compose)(Object(B.c)(We),function(e){return function(t){return w.a.createElement(e,Object.assign({},t,{publicAndSecretBoardsLoaded:t.boards.isLoaded}))}})(Ae),Fe=Object(x.compose)(Object(B.c)(Ue),Object(B.c)(Ne),Object(B.c)(ze),function(e){return function(t){return w.a.createElement(e,Object.assign({},t,{publicAndSecretBoardsLoaded:t.boards.isLoaded&&t.secretBoards.isLoaded}))}})(Ae),Xe=function(e){function t(){return m(this,t),b(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function e(){var t=this.props,n=t.data,r=t.metadata,o=t.viewer,a=t.updatedBoardOrder;if(!n||!r||!r.data)return null;var i=n.blocked_by_me,s=n.first_name,c=n.has_shopping_showcase,l=n.merchant_id,d=n.username,u=this.context.userAgent.isRetina,p=o.username===d,f={hasCustomOrder:n.has_custom_board_sorting_order,isOwnProfile:p,mostRecentBoardSortOrder:r.data.most_recent_board_sort_order,updatedBoardOrder:a},h={boardOrder:v(Object.assign({},f)),currentUser:o,firstName:s,hasShoppingShowcase:c,isRetina:u,isOwnProfile:p,isUserBlocked:i,merchantID:l,username:d},m=p?Fe:He;return w.a.createElement(j.b,null,w.a.createElement(m,h))},t}(y.Component);Xe.contextTypes={userAgent:O.a.shape({isRetina:O.a.bool.isRequired}).isRequired};var Je=function e(t){return Me.a.reduce(function(e,n){var r={username:t,boardOrder:n};return e.concat([Object(S.f)(Ue.name,Ue.options(r)),Object(S.f)(Ne.name,Ne.options(r))])},[Object(S.f)(ze.name)])},Ze=t.default=Object(x.compose)(Object(E.connect)(function(e){return{updatedBoardOrder:e.ui.views&&e.ui.views.updatedBoardOrder,viewer:e.viewer}}),Object(C.b)({name:"UserResource",options:function e(t){return{field_set_key:"profile",username:t.params.username}}}),Object(B.c)({name:"UserMetadataResource",key:"metadata",options:function e(t){return{user:{id:t.params.username}}}},{acceptPrefetch:!0}),Object(P.a)({name:"BoardsList",routeContextLog:function e(t,n){var r=void 0;return(t.user||{}).username===n.username&&(r=t.user.id),{object_id_str:r,view_type:4,view_parameter:49}}}))(Xe)},sHc9:function(e,t,n){"use strict";function r(e){var t=e.children,n=e.itemWidth,r=e.maxColumns,o=void 0===r?12:r;return a.a.createElement(i.b,{display:"flex",justifyContent:"center",wrap:!0},t,s(n,o))}var o=n("d6ZO"),a=n.n(o),i=n("gEaE"),s=function e(t,n){return Array.from(new Array(n)).map(function(e,n){return a.a.createElement(i.b,{key:n,width:t})})};t.a=r},v6Mz:function(e,t,n){"use strict";function r(e){var t=e.board,n=e.isOwnProfile,r=e.slotIndex,a=n?3069:3070;return o.createElement(i.a,{componentType:209,loggingId:t.id,impressionType:"Board",slotIndex:r,viewType:4,viewParameter:a},o.createElement(s.b,e))}var o=n("d6ZO"),a=n.n(o),i=n("UsZy"),s=n("UDqR");t.a=r},yRaS:function(e,t,n){"use strict";function r(e){var t=e.params,n=e.user,r=e.viewer;if(!n||!n.data)return null;var a=r.username&&r.username===t.username,i=a&&0===n.data.board_count;return n.data.show_creator_profile?a&&n.data.pin_count<=2?o.createElement(d.default,{isOwnProfile:a,params:t}):o.createElement(c.a,{isOwnProfile:a,user:n.data}):i?o.createElement(l.default,{params:t}):o.createElement(s.default,{params:t})}Object.defineProperty(t,"__esModule",{value:!0});var o=n("d6ZO"),a=n.n(o),i=n("DUIN"),s=n("s6Db"),c=n("OjsQ"),l=n("H/nx"),d=n("hCt5"),u=n("JyNp"),p=n("Xafg"),f=n("MQ2h"),h=n.n(f);t.default=Object(f.compose)(Object(i.connect)(function(e){return{viewer:e.viewer}}),Object(u.c)({name:"UserResource",key:"user",options:function e(t){return{username:t.params.username,field_set_key:"profile"}}},{acceptPrefetch:!0}),Object(p.a)({name:"ProfileDecider",routeContextLog:function e(t,n){var r=void 0,o=void 0;return(t.user||{}).username===n.username&&(r=t.user.id,o=!0),{object_id_str:r,view_type:4,view_parameter:o?3106:3107}}}))(r)},zM1h:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("jsUH"),i=n.n(a),s=n("Pc8e"),c=n("DYU3"),l=n("MQ2h"),d=n.n(l),u=function e(t){return function(e){return Object(l.compose)(c.a,Object(a.DropTarget)(t,{},function(e,t){return{connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}}))(e)}};t.a=u}});