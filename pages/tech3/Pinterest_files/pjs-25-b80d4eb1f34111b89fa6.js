webpackJsonp([25],{Hdz3:function(e,t,n){"use strict";function a(){return o.a.createElement("div",{className:"NewsConversationsDropdown"},o.a.createElement("div",{className:"content"},o.a.createElement(s.b,null,function(e){return o.a.createElement(i.a,{requestContext:e})})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("d6ZO"),o=n.n(r),i=n("lVil"),s=n("dZgC")},U7FU:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.viewer;return{viewerId:t.isAuth?t.id:null}}var s=n("d6ZO"),l=n.n(s),c=n("DUIN"),u=n("GGB8"),d=n.n(u),m=n("IaRT"),p=n.n(m),h=n("gEaE"),f=3,g=[["fullWrapper"],["leftWrapper halfWrapper","rightWrapper halfWrapper isWholeHalf"],["leftWrapper halfWrapper","rightWrapper halfWrapper smallImage top","rightWrapper halfWrapper smallImage bottom"]],v=function e(t,n){var a=t.name,r=t.image_thumbnail_url;return l.a.createElement("div",{className:d()("Image","Module","boardMessageRep",n)},l.a.createElement("img",{alt:a,src:r}))},C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2],r=arguments[3],o={small:"sm",medium:"md",normal:"lg"};return l.a.createElement(h.b,{display:"flex",alignItems:"center"},l.a.createElement(h.k,{collaborators:a.map(function(e,t){return{name:e.full_name||e.email||e.username||"user "+t,src:e.is_default_image?void 0:e.image_large_url||e.image_medium_url}}),size:o[t]}))},E=function(e){function t(){return a(this,t),r(this,e.apply(this,arguments))}return o(t,e),t.prototype.getUsersToShow=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.props.viewerId;return void 0!==a&&(n=n.filter(function(e){return e.id!==a})),n.concat(t.map(function(e){return{full_name:e,first_name:e,username:e}})).slice(0,3)},t.prototype.render=function e(){var t=this.props,n=t.board,a=t.emails,r=t.shouldLink,o=t.size,i=t.users,s=this.getUsersToShow(a,i),l=s.length<=3?g[s.length-1]:[];return n?v(n,o):s.length>0?C(o,l,s,r):null},t}(s.Component);E.defaultProps={shouldLink:!1,size:"medium"},t.a=Object(c.connect)(i)(E)},WjUL:function(e,t,n){"use strict";var a=n("d6ZO"),r=n.n(a);t.a=function(e){var t=e.iconName,n=e.iconColor,r=void 0===n?"#8e8e8e":n,p=e.size,h=void 0===p?"45":p;switch(t){case"thumbsUp":return a.createElement(o,{color:r,size:h});case"thumbsDown":return a.createElement(i,{color:r,size:h});case"heartFace":return a.createElement(s,{size:h});case"joyFace":return a.createElement(l,{size:h});case"neutralFace":return a.createElement(c,{size:h});case"frowningFace":return a.createElement(u,{size:h});case"smileyFace":return a.createElement(d,{size:h});case"newMessage":return a.createElement(m,{size:h});default:return null}};var o=function e(t){var n=t.color,r=t.size;return a.createElement("svg",{width:r,height:r,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fill:n,stroke:"none",d:"M3.819 15.95c-.782 0-1.325-.604-1.325-1.363 0-.506.28-.946.698-1.185-.03.002-.061.005-.092.005-.782 0-1.415-.616-1.415-1.375 0-.526.304-.983.75-1.214h-.02C1.632 10.819 1 10.204 1 9.445c0-.76.633-1.375 1.414-1.375h.002a1.37 1.37 0 0 1-.748-1.213c0-.76.633-1.375 1.414-1.375l.039.002.003-.029h4.53a11.924 11.924 0 0 1-.08-.296c-.44-1.773-.336-3.4.192-4.164.258-.486.765-.934 1.229-.988.834-.097 1 .944 1 1.59 0 0 0 1.102 1.735 2.561 1.893 1.592 2.358 2.616 2.97 4.021l-.013-.011c.2.65.313 1.368.313 2.125 0 2.88-3.093 5.41-6.16 5.605-3.068.194-5.016.054-5.016.054"}))},i=function e(t){var n=t.color,r=t.size;return a.createElement("svg",{width:r,height:r,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fill:n,stroke:"none",d:"M12.181.05c.782 0 1.325.604 1.325 1.363 0 .506-.28.946-.698 1.185.03-.002.061-.005.092-.005.782 0 1.415.616 1.415 1.375 0 .526-.304.983-.75 1.214h.02c.782 0 1.415.615 1.415 1.374 0 .76-.633 1.375-1.414 1.375h-.002c.445.232.748.688.748 1.213 0 .76-.633 1.375-1.414 1.375l-.039-.002-.003.029h-4.53c.028.097.055.196.08.296.44 1.773.336 3.4-.192 4.164-.258.486-.765.934-1.229.988-.834.097-1-.944-1-1.59 0 0 0-1.102-1.735-2.561C2.377 10.25 1.912 9.227 1.3 7.822l.013.011A7.234 7.234 0 0 1 1 5.708C1 2.828 4.093.298 7.16.103 10.229-.09 12.177.05 12.177.05"}))},s=function e(t){var n=t.size;return a.createElement("svg",{width:n,height:n,viewBox:"0 0 85 85",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(-275.000000, -408.000000)"},a.createElement("g",{transform:"translate(275.000000, 408.000000)"},a.createElement("path",{d:"M84.5775824,42.7604377 C84.5775824,65.8635522 65.644408,84.5914562 42.2880679,84.5914562 C18.9335361,84.5914562 0.000361665223,65.8635522 0.000361665223,42.7604377 C0.000361665223,19.6573232 18.9335361,0.929419192 42.2880679,0.929419192 C65.644408,0.929419192 84.5775824,19.6573232 84.5775824,42.7604377",id:"Fill-1",fill:"#FF6F74"}),a.createElement("path",{d:"M42.3806542,67.6508418 C42.3155544,67.6526305 42.246838,67.6526305 42.17993,67.6508418 C37.2938328,67.6508418 32.1292534,66.1930345 28.3570851,63.7424874 C27.3950556,63.1164352 27.1256151,61.8375 27.7585292,60.884112 C28.3932517,59.9325126 29.6862048,59.6695707 30.6500427,60.2920455 C33.7657886,62.3186658 38.0750297,63.5224747 42.1925883,63.5224747 L42.3661876,63.5224747 C46.5000211,63.5224747 50.8092622,62.3186658 53.9304331,60.2920455 C54.8870376,59.6659933 56.1854157,59.9307239 56.8183299,60.8859007 C57.451244,61.8375 57.1836117,63.1182239 56.2179656,63.7424874 C52.4457973,66.1930345 47.2812179,67.6508418 42.3806542,67.6508418",id:"Fill-4",fill:"#FFFFFF"}),a.createElement("path",{d:"M25.0916098,45.8345328 L16.203687,37.2075337 C14.2091033,35.2667719 13.8564797,32.1365109 15.5960894,29.9775253 C17.6810894,27.3874579 21.5472907,27.2193182 23.8637564,29.4713173 L25.0916098,30.6536616 L26.1711805,29.6162037 C28.1675726,27.6754419 31.3863931,27.3337963 33.6088258,29.0259259 C36.2706819,31.0525463 36.4442812,34.8106481 34.1278154,37.0626473 L25.0916098,45.8345328 Z",id:"Fill-6",fill:"#FFFFFF"}),a.createElement("path",{d:"M59.4483594,45.8345328 L50.5604365,37.2075337 C48.5658528,35.2667719 48.2132292,32.1365109 49.9528389,29.9775253 C52.037839,27.3874579 55.9040402,27.2193182 58.2205059,29.4713173 L59.4483594,30.6536616 L60.5279301,29.6162037 C62.5243221,27.6754419 65.7431426,27.3337963 67.9655754,29.0259259 C70.6274314,31.0525463 70.8010307,34.8106481 68.484565,37.0626473 L59.4483594,45.8345328 Z",id:"Fill-8",fill:"#FFFFFF"})))))},l=function e(t){var n=t.size;return a.createElement("svg",{width:n,height:n,viewBox:"0 0 85 85",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(-274.000000, -408.000000)"},a.createElement("g",{transform:"translate(274.000000, 408.000000)"},a.createElement("path",{d:"M84.5687759,42.3294218 C84.5687759,65.6682823 65.6375729,84.5872874 42.2836647,84.5872874 C18.9315647,84.5872874 0.000361627565,65.6682823 0.000361627565,42.3294218 C0.000361627565,18.9905612 18.9315647,0.0715561224 42.2836647,0.0715561224 C65.6375729,0.0715561224 84.5687759,18.9905612 84.5687759,42.3294218",fill:"#F77A3C"}),a.createElement("path",{d:"M25.3211621,38.9733312 C25.2723424,38.9751382 25.2235227,38.9751382 25.174703,38.9733312 C21.9182467,38.9733312 18.4628953,37.9849171 15.9315024,36.3243091 C14.9677649,35.6918686 14.7001605,34.3998831 15.3330088,33.4367666 C15.9640489,32.4736501 17.2604837,32.2080251 18.222413,32.8368516 C20.111917,34.0782419 22.7753041,34.7486288 25.2488366,34.802838 L25.3048889,34.802838 C27.8163923,34.802838 30.4164945,34.0692071 32.2933416,32.8368516 C33.2552709,32.2080251 34.5498976,32.4736501 35.184554,33.4367666 C35.8174022,34.3998831 35.5479897,35.6918686 34.5860603,36.3243091 C32.0546674,37.9849171 28.5975079,38.9733312 25.3211621,38.9733312",fill:"#FFFFFF"}),a.createElement("path",{d:"M59.3738218,38.9733312 C59.3250021,38.9751382 59.2761824,38.9751382 59.2273626,38.9733312 C55.9727146,38.9733312 52.515555,37.9849171 49.9841621,36.3243091 C49.0186165,35.6936756 48.7510121,34.3998831 49.3838603,33.4385736 C50.0149004,32.4736501 51.3095271,32.2080251 52.2714564,32.8368516 C54.1663849,34.0782419 56.7628708,34.7486288 59.3014963,34.802838 L59.3575486,34.802838 C61.8672439,34.802838 64.4691542,34.0692071 66.3478094,32.8368516 C67.313355,32.2044111 68.6043654,32.4736501 69.2372136,33.4385736 C69.8700619,34.3998831 69.6006494,35.6936756 68.6369119,36.3243091 C66.1055189,37.9849171 62.6483594,38.9733312 59.3738218,38.9733312",fill:"#FFFFFF"}),a.createElement("path",{d:"M42.376603,67.4738095 C42.31151,67.4756165 42.2428008,67.4756165 42.1758997,67.4738095 C37.2903113,67.4738095 32.1262696,66.0011267 28.3544941,63.525574 C27.3925648,62.8931335 27.1231523,61.601148 27.7560005,60.6380315 C28.3906569,59.6767219 29.6834754,59.4110969 30.6472129,60.0399235 C33.7626344,62.0872236 38.0714268,63.3033163 42.1885566,63.3033163 L42.3621379,63.3033163 C46.495541,63.3033163 50.8043334,62.0872236 53.9251793,60.0399235 C54.8816842,59.407483 56.1799271,59.674915 56.8127754,60.6398384 C57.4456236,61.601148 57.1780192,62.8949405 56.2124736,63.525574 C52.4406981,66.0011267 47.2766565,67.4738095 42.376603,67.4738095",fill:"#FFFFFF"}),a.createElement("path",{d:"M74.3824506,54.567145 C77.5810465,53.1956526 79.3928006,50.1364477 77.6895347,46.2966305 C75.7041994,41.817145 66.9293065,37.2021365 66.9293065,37.2021365 C66.9293065,37.2021365 64.2279486,46.7375319 66.1066038,51.2621918 C67.7176546,55.1417623 71.1838548,55.9386373 74.3824506,54.567145",fill:"#FFFFFF"}),a.createElement("path",{d:"M18.4623529,51.2621918 C20.3410081,46.7375319 17.6396502,37.2021365 17.6396502,37.2021365 C17.6396502,37.2021365 8.86475732,41.817145 6.87761385,46.2966305 C5.17615616,50.1364477 6.98791026,53.1956526 10.1865061,54.567145 C13.3851019,55.9386373 16.8513021,55.1417623 18.4623529,51.2621918",fill:"#FFFFFF"})))))},c=function e(t){var n=t.size;return a.createElement("svg",{width:n,height:n,viewBox:"0 0 85 85",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(-274.000000, -408.000000)",fill:"#C1AF91"},a.createElement("path",{d:"M295.975333,438.800705 C295.975333,441.375098 298.064213,443.463978 300.638606,443.463978 C303.212999,443.463978 305.301879,441.375098 305.301879,438.800705 C305.301879,436.226312 303.212999,434.133516 300.638606,434.133516 C298.064213,434.133516 295.975333,436.226312 295.975333,438.800705 M337.022709,438.800705 C337.022709,436.226312 334.935787,434.133516 332.359436,434.133516 C329.785043,434.133516 327.696163,436.226312 327.696163,438.800705 C327.696163,441.375098 329.785043,443.463978 332.359436,443.463978 C334.935787,443.463978 337.022709,441.375098 337.022709,438.800705 M330.671887,468.708692 L302.326155,468.708692 C300.920517,468.708692 299.781128,469.848081 299.781128,471.25372 C299.781128,472.659358 300.920517,473.798747 302.326155,473.798747 L330.671887,473.798747 C332.077525,473.798747 333.216915,472.659358 333.216915,471.25372 C333.216915,469.848081 332.077525,468.708692 330.671887,468.708692 M359,450.5 C359,473.972984 339.971026,493 316.5,493 C293.027016,493 274,473.972984 274,450.5 C274,427.028974 293.027016,408 316.5,408 C339.971026,408 359,427.028974 359,450.5"}))))},u=function e(t){var n=t.size;return a.createElement("svg",{width:n,height:n,viewBox:"0 0 85 85",xmlns:"http://www.w3.org/2000/svg"},a.createElement("defs",null,a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"-49.9776705%",id:"linearGradient-1"},a.createElement("stop",{stopColor:"#40DAB8",offset:"0%"}),a.createElement("stop",{stopColor:"#F89335",offset:"100%"}))),a.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(-274.000000, -408.000000)",fill:"url(#linearGradient-1)"},a.createElement("path",{d:"M341.71322,438.851596 L338.153001,435.291377 L333.987599,439.454961 L329.824015,435.291377 L326.261979,438.851596 L330.42738,443.01518 L326.261979,447.180582 L329.824015,450.740801 L333.987599,446.577217 L338.153001,450.740801 L341.71322,447.180582 L337.547818,443.01518 L341.71322,438.851596 Z M307.310492,438.851596 L303.750273,435.291377 L299.584871,439.454961 L295.421287,435.291377 L291.861068,438.851596 L296.024652,443.01518 L291.861068,447.180582 L295.421287,450.740801 L299.584871,446.577217 L303.750273,450.740801 L307.310492,447.180582 L303.146907,443.01518 L307.310492,438.851596 Z M331.399671,477.552394 C332.144791,476.420175 331.830386,474.89904 330.69635,474.155738 C326.850805,471.627782 321.591349,470.124821 316.62449,470.124821 L316.399136,470.124821 C311.410468,470.124821 306.149195,471.627782 302.301832,474.155738 C301.169614,474.89904 300.855209,476.420175 301.600329,477.552394 C302.341814,478.684612 303.866584,479.000834 304.996985,478.255714 C308.073785,476.232986 312.328238,475.031708 316.41731,475.031708 L316.606316,475.031708 C320.671762,475.031708 324.926215,476.234804 328.003015,478.255714 C328.419191,478.528319 328.884437,478.659169 329.347865,478.659169 C330.147506,478.659169 330.928973,478.268436 331.399671,477.552394 L331.399671,477.552394 Z M316.499091,493 C293.027816,493 274,473.972184 274,450.500909 C274,427.027816 293.027816,408 316.499091,408 C339.972184,408 359,427.027816 359,450.500909 C359,473.972184 339.972184,493 316.499091,493 Z"}))))},d=function e(t){var n=t.size;return a.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.createElement("g",{fillRule:"nonzero"},a.createElement("g",null,a.createElement("g",{fill:"#FFCC00"},a.createElement("g",{transform:"translate(1.600000, 1.600000)"},a.createElement("path",{d:"M10.4,20.8 C16.16,20.8 20.8,16.16 20.8,10.4 C20.8,4.64 16.16,0 10.4,0 C4.64,0 0,4.64 0,10.4 C0,16.16 4.64,20.8 10.4,20.8"})),a.createElement("path",{d:"M12,24 C5.36,24 0,18.64 0,12 C0,5.36 5.36,0 12,0 C18.64,0 24,5.36 24,12 C24,18.64 18.64,24 12,24 Z"})),a.createElement("path",{d:"M17.6,9.6 C17.6,8.72 16.88,8 16,8 C15.12,8 14.4,8.72 14.4,9.6 C14.4,10.48 15.12,11.2 16,11.2 C16.88,11.2 17.6,10.48 17.6,9.6",fill:"#333"}),a.createElement("path",{d:"M6.4,9.6 C6.4,10.48 7.12,11.2 8,11.2 C8.88,11.2 9.6,10.48 9.6,9.6 C9.6,8.72 8.88,8 8,8 C7.12,8 6.4,8.72 6.4,9.6",fill:"#333"}),a.createElement("path",{d:"M12,18.64 C8.72,18.64 7.36,16.56 7.28,16.48 C7.04,16.08 7.12,15.6 7.52,15.36 C7.92,15.12 8.4,15.2 8.64,15.6 C8.72,15.68 9.6,17.04 12,17.04 C14.32,17.04 15.28,15.6 15.28,15.52 C15.52,15.12 16,15.04 16.4,15.28 C16.8,15.52 16.88,16 16.64,16.4 C16.64,16.48 15.28,18.64 12,18.64 Z",fill:"#333"})))))},m=function e(t){var n=t.size;return a.createElement("svg",{width:n,height:n,viewBox:"0 0 22 22"},a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"Default-Copy-29",transform:"translate(-339.000000, -38.000000)"},a.createElement("g",{id:"new_icon",transform:"translate(339.000000, 38.000000)"},a.createElement("g",{id:"Group-3"},a.createElement("mask",{id:"mask-2",fill:"white"},a.createElement("polygon",{id:"path-1",points:"0 7.72959912e-05 18.8495743 7.72959912e-05 18.8495743 18.831109 0 18.831109"})),a.createElement("g",{id:"Clip-2"}),a.createElement("path",{d:"M1.17820313,18.7858 C3.04373438,18.1818312 5.87898437,17.2564562 6.64657812,16.9683937 C6.76723437,16.9233625 6.87173437,16.8546125 6.96317187,16.7638625 L18.0632031,5.6848 C19.1119844,4.63739375 19.1116406,2.93789375 18.0625156,1.891175 L16.9511719,0.78258125 C15.9051406,-0.26104375 14.2114844,-0.2607 13.1657969,0.78326875 L2.08535937,11.8423937 C1.98704687,11.9417375 1.91245312,12.0613625 1.86742187,12.19405 L0.047953125,17.6414562 C-0.186140625,18.34305 0.474546875,19.0137062 1.17820313,18.7858",id:"Fill-1",fill:"#A4A4A4",mask:"url(#mask-2)"})),a.createElement("g",{id:"Group-6",transform:"translate(0.000000, 19.593750)"},a.createElement("mask",{id:"mask-4",fill:"white"},a.createElement("polygon",{id:"path-3",points:"0 0.14994375 21.9352375 0.14994375 21.9352375 2.40625 0 2.40625"})),a.createElement("g",{id:"Clip-5"}),a.createElement("path",{d:"M20.80705,0.14994375 L1.12805,0.14994375 C0.505175,0.14994375 -0.0001375,0.6549125 -0.0001375,1.27813125 C-0.0001375,1.90135 0.505175,2.40631875 1.12805,2.40631875 L20.80705,2.40631875 C21.429925,2.40631875 21.9352375,1.90135 21.9352375,1.27813125 C21.9352375,0.6549125 21.429925,0.14994375 20.80705,0.14994375",id:"Fill-4",fill:"#A4A4A4",mask:"url(#mask-4)"}))))))}},i4v5:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("d6ZO"),s=n.n(i),l=n("WjUL"),c=n("gEaE"),u=function(e){function t(){var n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.state={hoverColor:"transparent",active:!1},o.getButtonStyle=function(){var e=o.props.hasGestaltActions,t=o.state,n=t.active,a=t.hoverColor,r={backgroundColor:"#fff",borderRadius:"50%",cursor:"pointer",padding:0},i={background:"transparent",border:"none"};return e&&(i=n?{background:a,borderColor:"rgba(0,132,255, 0.5)",borderWidth:"medium",borderStyle:"solid",outline:"none"}:{background:a,border:"none",outline:"none"}),Object.assign({},i,r)},o.handleMouseHover=function(){o.setState({hoverColor:"rgba(0, 0, 0, 0.06)"})},o.handleMouseLeave=function(){o.setState({hoverColor:"transparent",active:!1})},o.handleMouseDown=function(){o.setState({active:!0})},o.handleMouseUp=function(){o.setState({active:!1})},i=n,r(o,i)}return o(t,e),t.prototype.render=function e(){var t={thumbsUp:{height:70,width:70},thumbsDown:{height:70,width:70},newMessage:{height:"48px",width:"48px"}},n=this.props,a=n.iconName,r=n.label,o=n.onClick,s=n.iconColor,u=n.size,d=n.style,m=void 0===d?t[a]:d,p=n.hasGestaltActions,h=this.getButtonStyle(),f={thumbsUp:{paddingBottom:"5px"},thumbsDown:{paddingTop:"5px"}};return i.createElement("button",{"aria-label":r,className:p?"iconButtonExperimentGestalt":"iconButtonExperiment",onClick:o,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseHover,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,style:Object.assign({},h,m)},i.createElement(c.b,{display:"flex",alignItems:"center",justifyContent:"center",shape:"circle"},i.createElement("div",{style:f[a]},i.createElement(l.a,{iconName:a,iconColor:s,size:u}))))},t}(i.Component);t.a=u},lVil:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.contactCount,n=e.isInContactRequestsView,a=e.onClick;if(!t&&!n)return null;var r=void 0;return r=t>H?F.a._("1000+ contact requests","messaging"):t>=G&&t<=H?F.a._("100+ contact requests","messaging"):O.h(F.a.ngettext("{{ contactCount }} contact request","{{ contactCount }} contact requests",t),{contactCount:""+t}),M.a.createElement(z.b,{dangerouslySetInlineStyle:{__style:{paddingLeft:10,paddingRight:10}},paddingY:1},M.a.createElement("div",{className:"Module ContactRequestsCount"},M.a.createElement(V.a,{className:P()({contactRequestView:n},"isBrioFlat","contactRequestsCount","btn"),hasIcon:n,hasText:!0,onClick:a,text:r,type:"borderless"})))}function s(e){var t=e.contactRequests,n=e.handleCancelViewContactRequests;return t?M.a.createElement("div",{className:"Module ContactRequestsCount"},M.a.createElement(Z,{contactCount:t.length,isInContactRequestsView:!0,onClick:n}),M.a.createElement(z.b,{padding:2},M.a.createElement(z.J,{size:"sm"},F.a._("These messages appear from people outside of your networks.","contact requests disclaimer"))),t.map(function(e,t){return M.a.createElement("div",{key:e.id},0!==t?M.a.createElement(z.i,null):null,M.a.createElement(A,e))})):null}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){var t=e.name,n=e.emails,a=e.users,r=e.viewerId,o=a.filter(function(e){return e.id!==r});return M.a.createElement(z.J,{color:"darkGray",size:"sm",bold:!0,truncate:!0},t||o.map(function(e){return e.first_name||e.full_name}).concat(n).join(", "))}function m(e){var t=e.message,n=e.viewerId,a=t.board,r=t.created_at,o=t.pin,i=t.sender,s=t.text,l=t.user,c=s,u=i.id===n,d=u?F.a._("You","messaging in the inbox, when the viewer(You) sends a pin, board, or profile to another user without text"):i.first_name;return c?c&&u&&(c=F.a._("You","messaging in the inbox, when the viewer(You) sends a message to another user")+": "+c):o?c=O.h(F.a._("{{ senderName }} sent a Pin","messaging"),{senderName:d}):a?c=O.h(F.a._("{{ senderName }} sent a board","messaging"),{senderName:d}):l&&(c=O.h(F.a._("{{ senderName }} sent a user profile","messaging"),{senderName:d})),M.a.createElement(z.b,{display:"flex",direction:"row",flex:"grow",alignItems:"baseline"},M.a.createElement(z.b,{marginRight:2,flex:"shrink",dangerouslySetInlineStyle:{__style:{maxWidth:"80%"}}},M.a.createElement(z.J,{color:"darkGray",size:"sm",truncate:!0},c)),M.a.createElement(z.b,{flex:"none"},M.a.createElement(z.J,{color:"gray",size:"xs",truncate:!0},F.a.getHumanizedTimesince(r,!0))))}function p(e){var t=e.board,n=e.pin,a=e.user,r=null;if(n){var o=n.images["236x"]||n.images["136x136"];r=M.a.createElement(z.t,{shape:"rounded",wash:!0,height:60,width:40},M.a.createElement(z.o,{alt:"",src:o.url,naturalWidth:o.width,naturalHeight:o.height,color:n.dominant_color,fit:"cover"}))}else t?r=M.a.createElement(z.t,{shape:"rounded",width:40,height:40},M.a.createElement(z.o,{alt:"",src:t.image_thumbnail_url||"",naturalWidth:60,naturalHeight:60})):a&&(r=M.a.createElement(z.b,{shape:"rounded",width:40,height:40},M.a.createElement(z.a,{name:a.full_name,src:a.image_large_url})));return r?M.a.createElement(z.b,{display:"flex",alignItems:"center",width:30,marginLeft:5,marginRight:6},M.a.createElement(z.b,{display:"block"},r)):null}function h(e){return{viewerId:e.viewer.id}}function f(e){var t=e.contactItem,n=e.currentUserID,a=e.conversationItem,r=e.handleContactWrapperClick,o=e.isSelected,i=e.isUser,s=["selectionIndicator","contactCircleRep","selectionIndicator"];return M.a.createElement("a",{className:"conversationContactContainer",key:a.id,onClick:function e(){return r(i,t)},onKeyDown:function e(){},role:"button",tabIndex:0},oe(n,a),o?M.a.createElement("div",{className:s.join(" ")},M.a.createElement("em",null)):null)}function g(e){var t=e.onClickRemove,n=e.tokenizedItems;return L.createElement("div",{className:"reactTokenizedInputContainer",style:{zIndex:1e3}},L.createElement("div",{className:"tokenContainer"},n.map(function(e,n){return L.createElement("div",{className:"tokenItem",key:n,style:{position:"relative"}},L.createElement(V.a,{className:"tokenRemove",onClick:function e(){return t(n)},showText:!1,text:F.a._("close conversation chathead"),type:"borderless"},L.createElement(z.b,{position:"absolute",color:"lightGray",display:"flex",alignItems:"center",justifyContent:"center",width:12,height:12,dangerouslySetInlineStyle:{__style:{borderRadius:6}}},L.createElement(z.m,{icon:"cancel",accessibilityLabel:"",size:5,color:"darkGray"}))),"string"!=typeof e?L.createElement(z.a,{size:"sm",name:e.full_name,src:e.is_default_image?void 0:e.image_large_url}):L.createElement(z.a,{size:"sm",name:e}))}),n.length>0?L.createElement(z.b,{width:5}):null),L.createElement("div",{className:"textFieldContainer"}))}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){var t=e.boardInvites;return t?M.a.createElement("div",null,t.map(function(e){return M.a.createElement(pe,{boardInviteItem:e,key:e.id})})):null}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e){return e.sort(function(e,t){return new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)}),e}var L=n("d6ZO"),M=n.n(L),R=n("DUIN"),O=n("5tOk"),F=n("W/Cr"),S=n("ZtCB"),j=n.n(S),B=n("fvzG"),z=n("gEaE"),T=function(e){function t(){var n,o,i;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,e.call.apply(e,[this].concat(l))),o.state={contactRequestCompleted:!1,isAcceptButtonLoading:!1,isIgnoreButtonLoading:!1},o.handleInviteAcceptResponse=function(){o.setState({isAcceptButtonLoading:!0,isIgnoreButtonLoading:!1}),j.a.create("ContactRequestAcceptResource",{contact_request:o.props}).callUpdate().then(function(e){var t=o.props.dispatch;if(o.setState({contactRequestCompleted:!0,isAcceptButtonLoading:!1}),e&&e.resource_response.data){var n=e.resource_response.data;t(Object(B.c)(n)),t(Object(B.h)(n.id)),t(Object(B.g)(n.id))}})},o.handleInviteDeclineResponse=function(){o.setState({isAcceptButtonLoading:!1,isIgnoreButtonLoading:!0}),j.a.create("ContactRequestIgnoreResource",{contact_request:o.props}).callDelete().then(function(){o.setState({contactRequestCompleted:!0,isIgnoreButtonLoading:!1})})},i=n,r(o,i)}return o(t,e),t.prototype.renderRequestText=function e(t,n,a){if(t){var r=t.name,o=t.url;if(r&&o)return O.h(F.a._('<a href="/{{ senderUsername }}/">{{ senderName }}</a> invited you to collaborate on <a href="{{ boardUrl }}">{{ boardName }}</a>'),{boardName:r.toString(),boardUrl:o.toString(),senderName:n,senderUsername:a})}return O.h(F.a._('<a href="/{{ senderUsername }}/">{{ senderName }}</a> wants to send a message to you'),{senderName:n,senderUsername:a})},t.prototype.render=function e(){var t=this.state,n=t.contactRequestCompleted,a=t.isAcceptButtonLoading,r=t.isIgnoreButtonLoading;if(n)return null;var o=this.props,i=o.board,s=o.sender,l=s.image_large_url,c=s.full_name,u=s.username;return M.a.createElement(z.b,{paddingX:2,paddingY:4,display:"flex"},M.a.createElement(z.b,{height:50,width:50,flex:"none"},M.a.createElement(z.s,{href:"/"+u+"/"},M.a.createElement(z.a,{name:u,src:l}))),M.a.createElement(z.b,{paddingX:3,flex:"grow"},M.a.createElement(z.b,{marginBottom:3},M.a.createElement(z.J,null,M.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.renderRequestText(i,c,u)}}))),M.a.createElement(z.b,{display:"flex",marginLeft:-1,marginRight:-1},M.a.createElement(z.b,{paddingX:1,flex:"grow"},M.a.createElement(z.c,{disabled:r,onClick:this.handleInviteDeclineResponse,size:"sm",text:F.a._("Decline","ignore contact request")})),M.a.createElement(z.b,{paddingX:1,flex:"grow"},M.a.createElement(z.c,{color:"red",disabled:a,onClick:this.handleInviteAcceptResponse,size:"sm",text:F.a._("Accept","accept contact request")})))))},t}(L.PureComponent),A=Object(R.connect)()(T),U=n("IaRT"),q=n.n(U),W=n("GGB8"),P=n.n(W),V=n("nM9s"),D=n("pN+K"),G=100,H=1e3,Z=Object(D.b)({name:"ContactRequestsCountGetResource",key:"contactCount"},{allowStale:!1})(i),J=Object(D.b)({name:"ContactRequestsResource",key:"contactRequests"},{allowStale:!1})(s),Y=n("U7FU"),K=n("dnEF"),X=n("tmfO"),Q=n("Kqaz"),$=n("/S3G"),ee=n("MQ2h"),te=n.n(ee),ne=n("dCTv"),ae=function(e){function t(){var n,a,r;l(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=c(this,e.call.apply(e,[this].concat(i))),a.state={isAnimatingOut:!1,unread:a.props.data.unread||0},a.handleHideConversation=function(e){e.stopPropagation();var t=a.props,n=t.data,r=t.dispatch,o=n.id;j.a.create("ConversationResource",{conversation_id:o}).callDelete({showError:!1}),a.setState({isAnimatingOut:!0}),setTimeout(function(){r(Object(B.d)(o))},500),a.removeConversationChatHead(o),a.logConversationItemHide(o)},a.handleConversationItemClick=function(){var e=a.props.data;a.setState({unread:0}),e.board||a.showConversationChatHead(e),a.logConversationItemClick()},a.logConversationItemClick=function(){(0,a.props.contextLog)(101,{component:54,element:277})},a.logConversationItemHide=function(e){(0,a.props.contextLog)(182,{component:54,element:277,conversation_id:e})},r=n,c(a,r)}return u(t,e),t.prototype.showConversationChatHead=function e(t){var n=this.props.dispatch,a=t.id;n(Object(B.h)(a)),n(Object(B.g)(a)),n($.a)},t.prototype.removeConversationChatHead=function e(t){var n=this.props.dispatch;n(Object(B.e)(t)),n(Object(B.b)(t))},t.prototype.renderItemContent=function e(){var t=this.state.isAnimatingOut,n=this.props,a=n.data,r=n.viewerId,o=n.experiments,i=a.board,s=a.emails,l=a.last_message,c=a.name,u=a.users,h=s||[];return M.a.createElement("div",{className:P()("ConversationListItemReact",{conversationHidden:t})},M.a.createElement(z.b,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{marginRight:10}}},M.a.createElement(Y.a,{board:i,emails:h,users:u})),M.a.createElement(z.b,{display:"flex",width:"85%",height:"100%"},M.a.createElement(z.b,{flex:"grow",display:"flex",direction:"column",height:"100%",paddingY:2,maxWidth:"233"},M.a.createElement(d,{name:c,emails:s||[],users:u,viewerId:r}),M.a.createElement(z.b,{flex:"grow",display:"flex",direction:"column"},l?M.a.createElement(m,{message:l,viewerId:r}):null)),l&&(o.activate("web_conversation_thumbnail")||"").includes("enabled")?M.a.createElement(p,l):null),this.state.unread>0?M.a.createElement("span",{className:"conversationUnreadMark"}):null,M.a.createElement(V.a,{className:"conversationCloseButton",hasText:!0,onClick:this.handleHideConversation,text:F.a._("Ã—","close button"),type:"borderless"}))},t.prototype.render=function e(){var t=this.props.data,n=t.board,a=t.users;return a&&a.length?n?M.a.createElement(X.b,{onClick:this.handleConversationItemClick,to:n.url},this.renderItemContent()):M.a.createElement("div",{onClick:this.handleConversationItemClick,role:"button"},this.renderItemContent()):null},t}(L.Component),re=Object(ee.compose)(Object(R.connect)(h),Q.a,ne.a)(ae),oe=function e(t,n){var a=n.emails,r=n.users,o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t&&0!==t.length){var n=t[0];return M.a.createElement("div",{className:"contactWrapper"},M.a.createElement(Y.a,{emails:[n],size:"small"}),M.a.createElement("div",{className:"contactTextInfo"},M.a.createElement("span",{className:"contactName"},n),M.a.createElement("span",{className:"contactDescription"},F.a._("Email friend","on selected contact list"))))}},i=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=n[0].id===t?n[1]:n[0],r=a.full_name;return M.a.createElement("div",{className:"contactWrapper"},M.a.createElement(Y.a,{size:"small",users:[a]}),M.a.createElement("div",{className:"contactTextInfo"},M.a.createElement("span",{className:"contactName"},r),M.a.createElement("span",{className:"contactDescription"},F.a._("On Pinterest","info about a contact"))))};return M.a.createElement("div",null,a&&a.length>0?o(a):i(r))};f.defaultProps={isSelected:!1};var ie=n("tZWC"),se=8,le=2,ce=function(e){function t(){var n,a,r;v(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=C(this,e.call.apply(e,[this].concat(i))),a.state={contactCounter:0,selectedEmails:{},selectedUsers:{},tokenizedItems:[],value:""},a.onHandleContactClick=function(e,t){var n=a.state,r=n.selectedEmails,o=n.selectedUsers,i=e?o:r,s=e?t.id:t,l=i[s];i[s]=!l,l?a.removeTokenItem(t):a.addTokenItem(t)},a.getSelectedEmails=function(){var e=a.state.selectedEmails;return Object.keys(e).filter(function(t){return e[t]})},a.getSelectedUsers=function(){var e=a.state.selectedUsers;return Object.keys(e).filter(function(t){return e[t]})},a.handleTypeaheadKeyDown=function(e){var t=a.state,n=t.contactCounter,r=t.selectedEmails,o=t.selectedUsers,i=t.tokenizedItems,s=t.value;if(e.keyCode===se&&n&&!s){var l=i.pop(),c=!!l.id,u=l.id||l;(c?o:r)[u]=!1,a.setState({contactCounter:n-1,tokenizedItems:i})}},a.handleInviteItemClick=function(e,t){var n=a.state,r=n.selectedUsers,o=n.selectedEmails,i=t?r:o,s=e.id||e;i[s]||(i[s]=!0,a.addTokenItem(e))},a.handleRemoveItem=function(e){var t=a.state.tokenizedItems[e];a.removeTokenItem(t)},a.handleSendMessage=function(){var e=a.getSelectedEmails(),t=a.getSelectedUsers(),n=a.props.dispatch;j.a.create("ConversationsResource",{user_ids:t,emails:e,text:null}).callCreate().then(function(e){var t=e&&e.resource_response.data;n(Object(B.c)(t)),n(Object(B.h)(t.id)),n(Object(B.g)(t.id))})},a.addTokenItem=function(e){var t=a.state,n=t.contactCounter,r=t.tokenizedItems;a.setState({contactCounter:n+1,tokenizedItems:r.concat([e]),value:""})},a.removeTokenItem=function(e){var t=a.state,n=t.contactCounter,r=t.tokenizedItems,o=t.selectedUsers,i=t.selectedEmails,s=!!e.id,l=e.id||e;(s?o:i)[l]=!1,e.id?a.setState({contactCounter:n-1,tokenizedItems:r.filter(function(t){return t.id!==e.id})}):a.setState({contactCounter:n-1,tokenizedItems:(r||[]).filter(function(t){return t!==e})})},a.renderSendMessageButton=function(){return M.a.createElement(V.a,{className:"sendNewMessageButton",hasText:!0,onClick:a.handleSendMessage,showText:!0,text:F.a._("Next","open the new chat"),type:"borderless"})},a.renderCancelMessageButton=function(){var e=a.props.handleCancelNewMessageClick;return M.a.createElement(V.a,{className:"cancelNewMessageView cancelButton",hasText:!0,onClick:e,showText:!0,text:F.a._("Cancel","cancel new message view"),type:"borderless"})},r=n,C(a,r)}return E(t,e),t.prototype.getContactItem=function e(t,n,a){var r=t.emails,o=t.users;return a&&o?o[0].id===n?o[1]:o[0]:r[0]},t.prototype.render=function e(){var t=this,n=this.props,a=n.conversationItems,r=n.viewerId,o=this.state,i=o.contactCounter,s=o.selectedUsers,l=o.selectedEmails,c=o.value,u=new Set,d=a.map(function(e,n){var a=e.emails,o=e.users;a||(a=[]),o||(o=[]);var i=o.length+a.length;if(i>0&&i<=2){var c=0===a.length,d=t.getContactItem(e,r,c);if(d){var m=d.id||d;if(!u.has(m))return u.add(m),M.a.createElement(f,{className:"conversationContactContainer",contactItem:d,conversationItem:e,currentUserID:r,handleContactWrapperClick:t.onHandleContactClick,isSelected:s[m]||l[m],isUser:c,key:m+"-"+n})}}return null});return M.a.createElement("div",null,M.a.createElement(z.b,{display:"flex",justifyContent:"between",padding:3},M.a.createElement(z.J,{size:"sm",color:"gray"},F.a._("New message","conversations")),i>0?this.renderSendMessageButton():this.renderCancelMessageButton()),M.a.createElement(z.b,{color:"lightGray",display:"flex",padding:3},M.a.createElement(z.b,{display:"flex",alignItems:"center",marginRight:2},M.a.createElement(z.J,{size:"sm"},F.a._("To:","new message"))),M.a.createElement(z.b,{display:"flex",position:"relative",flex:"grow"},M.a.createElement(g,{tokenizedItems:this.state.tokenizedItems,onClickRemove:this.handleRemoveItem}),M.a.createElement(ie.a,{changeOnTextHover:!1,className:"reactNewMessageTypeahead",onChange:function e(n){return t.setState({value:n})},onInviteItemClick:this.handleInviteItemClick,onKeyDown:this.handleTypeaheadKeyDown,showInputPlaceholder:!1,value:this.state.value}))),c?null:M.a.createElement("div",{className:"contactsContainer"},d))},t}(L.Component),ue=function e(t){return{viewerId:t.viewer.id}},de=Object(ee.compose)(Object(R.connect)(ue))(ce),me=n("i4v5"),pe=function(e){function t(){var n,a,r;b(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=w(this,e.call.apply(e,[this].concat(i))),a.state={boardInviteAccepted:!1,boardInvitePending:!0,isAcceptButtonLoading:!1,isIgnoreButtonLoading:!1},a.handleInviteResponse=function(e){var t=a.props.boardInviteItem,n=t.board,r=void 0===n?{}:n,o=t.invited_user,i=void 0===o?{}:o;a.setState({isAcceptButtonLoading:e,isIgnoreButtonLoading:!e});var s={board_id:r.id,invited_user_id:i.id},l=j.a.create("BoardInviteResource",s);(e?l.callUpdate():l.callDelete()).then(function(){a.setState({boardInviteAccepted:e,boardInvitePending:!1,isAcceptButtonLoading:!1,isIgnoreButtonLoading:!1})})},r=n,w(a,r)}return y(t,e),t.prototype.getBoardRep=function e(t,n){return M.a.createElement("div",{className:"leftObjectWrapper boardRepWrapper"},M.a.createElement("div",{className:"Image Module boardMessageRep"},M.a.createElement("div",{className:"heightContainer"},M.a.createElement("img",{alt:t,src:n}))))},t.prototype.getBoardInfo=function e(t,n){return M.a.createElement("a",{href:n},M.a.createElement("div",{className:t},t))},t.prototype.getInviteeInfo=function e(t){var n=t.full_name;return M.a.createElement("div",{className:"inviterLine"},Object(O.h)(F.a._("{{ fullName }} invited you to this board"),{fullName:n}))},t.prototype.renderPendingLayout=function e(t,n){var a=this,r=t.image_thumbnail_url,o=t.name,i=t.url;return M.a.createElement("div",{className:"pending"},M.a.createElement("div",{className:"left"},this.getBoardRep(o,r),M.a.createElement("div",{className:"description"},this.getBoardInfo(o,i),this.getInviteeInfo(n))),M.a.createElement("div",{className:"actions"},M.a.createElement(V.a,{className:"remove",loading:this.state.isIgnoreButtonLoading,onClick:function e(){return a.handleInviteResponse(!1)},text:F.a._("Decline","ignore board invite")}),M.a.createElement(V.a,{className:P()("primary","accept"),loading:this.state.isAcceptButtonLoading,onClick:function e(){return a.handleInviteResponse(!0)},text:F.a._("Accept","accept board invite")})))},t.prototype.renderCompletedLayout=function e(t){var n=t.image_thumbnail_url,a=t.name,r=t.url;return M.a.createElement("div",{className:"success displayed"},M.a.createElement("div",{className:"left"},this.getBoardRep(a,n),M.a.createElement("div",{className:"description"},this.getBoardInfo(a,r),M.a.createElement("div",{className:"inviterLine"},F.a._("You joined this board","board invites")))))},t.prototype.render=function e(){if(!this.state.boardInvitePending&&!this.state.boardInviteAccepted)return null;var t=this.props.boardInviteItem,n=t.board,a=t.invited_by_user;return M.a.createElement("div",{className:"BoardInvite Module news"},this.state.boardInvitePending?this.renderPendingLayout(n,a):this.renderCompletedLayout(n))},t}(L.Component),he=Object(D.b)({name:"BoardInvitesResource",key:"boardInvites",options:{current_user:!0,field_set_key:"news"}},{allowStale:!1})(_),fe=n("nX0T"),ge=500,ve="existingConversationsView",Ce="newMessageView",Ee="contactRequestsView",be=function(e){function t(){var n,a,r;I(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=k(this,e.call.apply(e,[this].concat(i))),a.state={currentView:ve,hoverColor:"transparent"},a.getComposeButton=function(e){var t=null;return t=e.startsWith("enabled_svg")||e.startsWith("employees")?M.a.createElement(me.a,{iconName:"newMessage",label:"newMessage",onClick:a.handleNewMessageButtonClick,size:"20",hasGestaltActions:!0}):e.startsWith("enabled_plus")?M.a.createElement(z.n,{onClick:a.handleNewMessageButtonClick,icon:"add",iconColor:"gray",size:"sm",accessibilityLabel:"composeNewMessage"}):M.a.createElement(z.c,{color:"red",text:F.a._("Compose","button label for creating a new conversation"),size:"sm",onClick:a.handleNewMessageButtonClick})},a.handleCancelSecondaryView=function(){a.setState({currentView:ve})},a.handleNewMessageButtonClick=function(){a.setState({currentView:Ce}),a.logNewMessageButtonClick()},a.handleViewContactRequestsClick=function(){a.setState({currentView:Ee})},a.handleScroll=function(){a.props.isFetching||(a._container&&a._container.scrollHeight-a._container.scrollTop-a._container.clientHeight)<ge&&a.fetchMore()},a.handleMouseHoverSVG=function(){a.setState({hoverColor:"rgba(0, 0, 0, 0.06)"})},a.handleMouseLeaveSVG=function(){a.setState({hoverColor:"transparent"})},a.logNewMessageButtonClick=function(){(0,a.props.contextLog)(101,{component:54,element:275})},r=n,k(a,r)}return x(t,e),t.prototype.componentDidMount=function e(){var t=this.props,n=t.isFullAuth,a=t.contextLog;n&&this._container.addEventListener("scroll",this.handleScroll),a(7161,{})},t.prototype.componentWillUnmount=function e(){this._container.removeEventListener("scroll",this.handleScroll)},t.prototype.fetchMore=function e(){var t=this.props,n=t.isAtEnd,a=t.isFetching,r=t.fetchMoreData,o=t.isFullAuth;!a&&o&&(n?this._container.removeEventListener("scroll",this.handleScroll):r())},t.prototype.renderNewMessageView=function e(){var t=this.props.conversations,n=void 0===t?[]:t;return M.a.createElement("div",{className:"newMessageContainer"},M.a.createElement(de,{conversationItems:n,handleCancelNewMessageClick:this.handleCancelSecondaryView}))},t.prototype.renderContactRequestsView=function e(){return M.a.createElement("div",{className:"contactRequestsContainer"},M.a.createElement(J,{handleCancelViewContactRequests:this.handleCancelSecondaryView}))},t.prototype.renderEmptyMessagesNewMessageUpsell=function e(){return M.a.createElement("div",{className:"EmptyConversations Module"},M.a.createElement("div",{className:"icon"}),M.a.createElement("div",{className:"intro"},M.a.createElement("div",null,F.a._("Send messages to your friends!")),M.a.createElement("div",null,F.a._("Plan projects, swap ideas and share your best discoveries."))))},t.prototype.renderExistingConversationsView=function e(){var t=this.props,n=t.conversations,a=void 0===n?[]:n,r=t.isAtEnd,o=t.requestContext.experiments.activate("web_inbox_new_message_icon")||"",i=this.getComposeButton(o),s=o.startsWith("enabled_svg")||o.startsWith("employees");return M.a.createElement("div",{className:"existingConversationsContainer"},M.a.createElement(z.b,{position:"relative"},M.a.createElement(z.b,{position:"absolute",right:!0,dangerouslySetInlineStyle:{__style:{padding:s?3:10}}},i),M.a.createElement(z.b,{paddingY:4,dangerouslySetInlineStyle:{__style:{paddingRight:"25%",paddingLeft:"25%"}}},M.a.createElement(z.J,{bold:!0,size:"md",align:"center"},F.a._("Messages","header text for conversations dropdown")))),M.a.createElement("div",{className:"viewContactRequestsButtonContainer"},M.a.createElement(Z,{onClick:this.handleViewContactRequestsClick})),M.a.createElement("div",{className:"existingConversationItemsWrapper"},M.a.createElement("div",{className:"boardInvitesContainer"},M.a.createElement(he,null)),M.a.createElement("ul",{className:"conversationItems"},0===a.length&&r?this.renderEmptyMessagesNewMessageUpsell():a.map(function(e,t){return M.a.createElement("li",{className:"conversationItemWrapper",key:e.id},M.a.createElement(re,{data:e}),t<a.length-1?M.a.createElement(z.i,null):null)}))))},t.prototype.renderMessageView=function e(){switch(this.state.currentView){case ve:return this.renderExistingConversationsView();case Ce:return this.renderNewMessageView();case Ee:return this.renderContactRequestsView()}},t.prototype.render=function e(){var t=this;return M.a.createElement(fe.a,{view:42,viewParameter:203},M.a.createElement("div",{className:"conversationPanel",ref:function e(n){t._container=n}},this.renderMessageView()))},t}(L.Component),we=function e(t){return Object.keys(t).map(function(e){return t[e]})},ye=function e(t){var n=t.conversations,a=t.viewer;return{conversations:N(we(n.data)),isFullAuth:a.isAuth&&!a.isLimitedLogin}},_e=t.a=Object(ee.compose)(Object(R.connect)(ye),Q.a,Object(D.b)({name:"ConversationsResource",key:"conversationsResource"},{allowStale:!1}))(be)}});