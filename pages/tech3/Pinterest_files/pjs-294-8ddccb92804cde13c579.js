webpackJsonp([294],{x5Tu:function(e,n,i){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),i.d(n,"UnauthBannerSignupModal",function(){return m});var o=i("d6ZO"),s=i.n(o),l=i("FqaO"),d=i("/2tF"),p=i("gVmS"),c=i("W/Cr"),u=i("IaRT"),b=i.n(u),h=i("85jk"),g=i("bUn+"),y=i("qMeI"),f=i("gEaE"),S=i("ok+N"),B=i("XELL"),x={container:{background:"rgba(0,0,0,0.65)",transition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitTransition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitBackfaceVisibility:"hidden"},hybridContainer:{background:"rgba(0,0,0,0.65)",transition:"width 0.42s ease-in-out",width:"100%",right:"0px"},visible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",display:"block",opacity:1},tieredVisible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",visibility:"visible",opacity:1,height:"100%",display:"flex"},tieredVisibleWithScroll:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",visibility:"visible",opacity:1,height:"100%",display:"flex",overflow:"scroll"},hidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",display:"none",opacity:0},tieredHidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",visibility:"hidden",opacity:0,height:"0"},noBanner:{bottom:"0px",color:"#fff",height:"0px",position:"fixed",width:"100%"},hybridNoBanner:{bottom:"0px",color:"#fff",height:"100%",position:"fixed",width:"0px"},quarterScreenBanner:{background:"rgba(85, 85, 85, 1)",bottom:"0px",color:"#fff",height:"64px",position:"fixed",width:"100%"},fullScreenBanner:{bottom:"0px",color:"#fff",height:"100%",position:"fixed",left:"0px",width:"100%"},hybridSideBarOnly:{height:"100%",width:"376px",bottom:"0px",position:"fixed",background:"rgba(0,0,0,0)"},textAndButtonsContainer:{justifyContent:"space-between",MozJustifyContent:"space-between",WebkitJustifyContent:"space-between",height:"64px",width:"100%",alignItems:"center",display:"flex"},title:{color:"#fff",display:"inline-block",fontSize:"24px",fontWeight:"500",verticalAlign:"middle",fontStyle:"normal",fontStretch:"normal",lineHeight:"normal",textAlign:"left"},signupButton:{display:"inline-block",height:"44px",lineHeight:"36px",padding:"0px 14px",fontSize:"16px",minWidth:"128px",marginTop:"0px",marginRight:"5px",whiteSpace:"nowrap"},LoginButton:{backgroundColor:"transparent",border:"solid 1px #ffffff",display:"inline-block",height:"44px",lineHeight:"36px",padding:"0px 14px",fontSize:"16px",minWidth:"128px",marginTop:"0px"},fullPageSignup:{left:"50%",top:"50%",position:"absolute",transform:"translate(-50%, -50%)"},tieredFullPageSignup:{left:"50%",top:"50%",visibility:"visible",opacity:1,transition:"opacity 0.5s linear",margin:"auto"},tieredFullPageSignupHidden:{pointerEvents:"none",visibility:"hidden",opacity:0},hybridFullPageSignup:{height:"100%",width:"100%",right:"0px",position:"absolute"}},m=function(e){function n(i){t(this,n);var r=a(this,e.call(this,i));return r.getBannerState=function(){return"enabled_all"===r.activateHybridSideBarExp()?"dismissable":"enabled_banner"===r.activateHybridSideBarExp()?"nondismissable":r.activateHybridSideBarExp().startsWith("enabled_side_bar")?"dismissed":null},r.handleCancelClick=function(){r.dismissBanner(),r.dismissBrandUpsellFlyout(),Object(h.a)("unauth_hybrid_side_bar_closed.cancelButtonClick")},r.handleCloseClick=function(){r.props.canClose&&r.props.handleDismissSignupModal()},r._handleLoginClick=function(){r.track("login"),r.props.onLoginClick()},r._handleSignupClick=function(){r.track("signup"),r.props.onSignupClick()},r.track=function(e){Object(h.a)("unauth_hybrid_banner."+e)},r.dismissBanner=function(){r.setState({bannerState:"dismissed"})},r.dismissBrandUpsellFlyout=function(){r.setState({showBrandUpsellFlyout:!1,showCancelButton:!1})},r.activateHybridSideBarExp=function(){return r.props.seoUnauthExperiments.v2ActivateExperiment("unauth_hybrid_side_bar_closed")||""},r.inBrandUpsellExpGroup=function(){return"enabled_all"===r.activateHybridSideBarExp()||"enabled_side_bar_and_bubble"===r.activateHybridSideBarExp()},r.state={showBrandUpsellFlyout:r.props.showBrandUpsellFlyout||r.inBrandUpsellExpGroup(),showCancelButton:"enabled_all"===r.activateHybridSideBarExp(),bannerState:r.getBannerState()},r.handleSignupClick=r._handleSignupClick.bind(r),r.handleLoginClick=r._handleLoginClick.bind(r),r}return r(n,e),n.prototype.UNSAFE_componentWillReceiveProps=function e(n){if("enabled_all"===this.activateHybridSideBarExp()&&!0===n.showNonDismissibleBanner&&!1===this.props.showNonDismissibleBanner&&this.inBrandUpsellExpGroup()&&this.setState({bannerState:"nondismissable",showBrandUpsellFlyout:!0,showCancelButton:!1}),this.props.bannerSize!==y.a.FULL_SCREEN_BANNER&&n.bannerSize===y.a.FULL_SCREEN_BANNER&&!l.get("hasBeenShownLoginModalInOpen")){var i=this.props.signupSource===B.a.login?B.b.login:B.b.signup,t=this.props.hybridTier;Object(h.a)("unauth_web_container."+p.a.INSPIRED_BANNER+"."+t+i+".shown")}this.props.bannerSize===y.a.FULL_SCREEN_BANNER&&n.bannerSize===y.a.QUARTER_SCREEN_BANNER&&(g.a.logLoginSignupModalView(),l.get("hasBeenShownLoginModalInOpen")||l.set("hasBeenShownLoginModalInOpen","true",12))},n.prototype.getContainerStyles=function e(n){switch(n){case"quarterScreenBanner":return Object.assign({},x.container,x.quarterScreenBanner);case"fullScreenBanner":return"nondismissable"===this.state.bannerState||"dismissable"===this.state.bannerState?Object.assign({},x.hybridContainer,x.fullScreenBanner):"dismissed"===this.state.bannerState?Object.assign({},x.hybridContainer,x.hybridSideBarOnly):Object.assign({},x.container,x.fullScreenBanner);default:return this.state.bannerState?Object.assign({},x.container,x.hybridNoBanner):Object.assign({},x.container,x.noBanner)}},n.prototype.stringsToTranslate=function e(){c.a._("Log in","Text on the button on the bottom banner that leads unauthorized users to login.")},n.prototype.renderLoginSignupButtons=function e(){return s.a.createElement(f.b,{display:"flex",justifyContent:"between",padding:2},s.a.createElement(d.a,{className:"white",onClick:this.handleSignupClick,styleOverrides:x.signupButton},c.a._("Sign up","sign up button on the bottom banner")),s.a.createElement(d.a,{className:"darkGrey",onClick:this.handleLoginClick,styleOverrides:x.LoginButton},c.a._("Log in","word in the log in button")))},n.prototype.render=function e(){var n=this.props,i=n.bannerSize,t=n.fullPageSignup,a=n.inTierMarket,r=n.signupSource,o=t,l=this.activateHybridSideBarExp(),d=this.getContainerStyles(i),u="quarterScreenBanner"===i?x.visible:x.hidden,b="fullScreenBanner"===i?x.visible:x.hidden;a&&(u="quarterScreenBanner"===i?x.tieredVisible:x.tieredHidden,b="fullScreenBanner"===i?x.tieredVisibleWithScroll:x.tieredHidden);var h=r===B.a.login?B.b.login:B.b.signup,g=x.fullPageSignup;a&&(g="fullScreenBanner"!==i?x.tieredFullPageSignupHidden:x.tieredFullPageSignup),"enabled_side_bar_and_bubble"===l||"enabled_side_bar"===l?g=x.hybridFullPageSignup:l.startsWith("enabled")&&(g=Object.assign({},x.hybridFullPageSignup,{width:"376px"}));var y=l.startsWith("enabled");return s.a.createElement("div",{"data-test-id":"giftWrap",style:d},s.a.createElement("div",{"data-test-id":"quarterBanner",className:"gridCentered",style:u},s.a.createElement("div",{className:"UnauthBanner__textAndButtonsContainer",style:x.textAndButtonsContainer},s.a.createElement("div",{style:x.title},c.a._("Explore more ideas with a Pinterest account","value prop on the bottom banner")),this.renderLoginSignupButtons())),s.a.createElement("div",{"data-test-id":"fullBanner",style:b},s.a.createElement("div",{style:g},s.a.createElement(o,{toggleType:this.props.toggleType,container:p.a.INSPIRED_BANNER,darkSignupTitle:!0,handleBrandUpsellClick:this.props.handleBrandUpsellClick,handleCancelClick:this.handleCancelClick,handleCloseClick:this.handleCloseClick,showBrandUpsellFlyout:this.props.showBrandUpsellFlyout,showCancelButton:this.state.showCancelButton,hybridSideBar:y,signupSource:this.props.signupSource,type:h,disablePersonalizedLoginActivation:!0}))))},n}(o.Component);n.default=Object(S.b)(m)}});